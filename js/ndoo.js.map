{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 007bdb7478abeda3cc5b","webpack:///./_source/ts/ndoo.ts","webpack:///./_source/ts/src/ndoo.ts","webpack:///./_source/ts/src/prep.ts","webpack:///./_source/ts/src/event/api.ts","webpack:///./_source/ts/src/event/basic.ts","webpack:///./_source/ts/src/prepData.ts","webpack:///./_source/ts/src/storage.ts","webpack:///./_source/ts/src/router.ts","webpack:///./_source/ts/src/lib/index.ts","webpack:///external \"_\"","webpack:///./_source/ts/src/lib/depend.ts","webpack:///external \"jQuery\"","webpack:///external \"Zepto\"","webpack:///./_source/ts/src/lib/event.ts","webpack:///external \"Backbone\"","webpack:///./_source/ts/src/component.ts"],"names":[],"mappings":"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","file":"./js/ndoo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"_\"), require(\"jQuery\"), require(\"Zepto\"), require(\"Backbone\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\", \"jQuery\", \"Zepto\", \"Backbone\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ndoo\"] = factory(require(\"_\"), require(\"jQuery\"), require(\"Zepto\"), require(\"Backbone\"));\n\telse\n\t\troot[\"ndoo\"] = factory(root[\"_\"], root[\"jQuery\"], root[\"Zepto\"], root[\"Backbone\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_15__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 007bdb7478abeda3cc5b","import { Ndoo } from './src/ndoo';\n\nexport = new Ndoo();\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/ndoo.ts","import { Prep } from './prep';\nimport { Storage } from './storage';\nimport { Router } from './router';\nimport { _lib as lib } from './lib';\nimport { getPrepData, removePrepData } from './prepData';\nimport { RegType, getComponent } from './component';\n\nlet prepData = getPrepData();\n\nexport class Ndoo extends Prep {\n  public _lib = lib;\n  /**\n   * page id\n   *\n   * @name pageId\n   * @memberof ndoo\n   * @type {string}\n   */\n  public pageId: string = '';\n  /**\n   * initPageId 初始化 pageId\n   *\n   * @private\n   * @name initPageId\n   * @memberof ndoo\n   */\n  public initPageId(id: string) {\n    if (this.pageId) {\n      return;\n    }\n    if (typeof document != 'undefined') {\n      let el = document.getElementById(id || 'scriptArea');\n      if (el) {\n        this.pageId = el.getAttribute('data-page-id') || '';\n      }\n      if (!this.pageId && id) {\n        this.pageId = id;\n      }\n    }\n  }\n  /**\n   * 内部_pk主键\n   * \n   * @private\n   * @name _pk\n   * @memberof ndoo\n   */\n  private _pk: number = +new Date();\n  /**\n   * 获取唯一key\n   *\n   * @method\n   * @name getPk\n   * @memberof ndoo\n   * @param prefix {string} 前缀\n   * @return {string} 键名\n   */\n  public getPk(prefix: string = '') {\n    return `${prefix}${++this._pk}`;\n  }\n  public storage: typeof Storage = Storage;\n  public router: typeof Router = Router;\n  private _loader = {\n    app: 'do',\n    block: 'do',\n    init: 'do',\n    appLoader: null,\n    blockLoader: null,\n    initLoader: null,\n    doLoader: function(depend: any[], callback: Function) {\n      Do.apply(null, depend.concat(callback));\n    },\n    seajsLoader: function(depend: any[], callback: Function) {\n      seajs.use(depend, callback);\n    }\n  };\n  /**\n   * 设置加载器\n   * \n   * @method\n   * @name setLoader\n   * @memberof ndoo\n   * @param type {string} 加载器类型\n   * @param loader {Function} 加载器回调函数\n   */\n  public setLoader(type: string, loader: Function) {\n    this._loader[type] = `${type}Loader`;\n    this._loader[`${type}Loader`] = loader;\n  }\n  /**\n   * 依赖加载方法\n   * \n   * @method\n   * @name require\n   * @memberof ndoo\n   * @param depend {array} 依赖\n   * @param callback {Function} 架设函数\n   * @param type {string} 加载器类型 app/block/service\n   */\n  public require(depend: any[], callback: Function, type: string): void {\n    type = type.toLowerCase();\n    if (this._loader[`${type}Loader`]) {\n      this[type](depend, callback);\n    }\n    else {\n      throw new Error('require load is not define');\n    }\n  }\n  public _blockData = {\n    _block: {},\n    _app: {},\n    _service: {},\n    _exist: {}\n  }\n  public _block(base: string, ns: string, name: string, block?: any) {\n    let data: any;\n    let nsArr: string[];\n    if (base == 'block' || base == 'app' || base == 'service') {\n      data = this._blockData[`_${base}`];\n    }\n    else {\n      return false;\n    }\n\n    if (ns) {\n      nsArr = ns.replace(/^[/.]|[/.]$/g, '').split(/[/.]/);\n    }\n    else {\n      nsArr = [];\n    }\n\n    let temp = data;\n    let result: any;\n    let success: boolean;\n    if (block || arguments.length > 3) {\n      for (let ns of nsArr) {\n        temp = temp[ns] || (temp[ns] = {});\n      }\n      // app/block只允许真值\n      if (block && (base === 'app' || base === 'block')) {\n        if (typeof block === 'object') {\n          if (base === 'app' && temp[name]) {\n            result = this._lib.defaults(temp[name], block);\n          }\n          else {\n            result = temp[name] = block;\n          }\n        }\n        else if (typeof block === 'function') {\n          result = temp[name] = block;\n        }\n        else {\n          result = false;\n        }\n      }\n      else if (base == 'service') {\n        result = temp[name] = block;\n        success = true;\n      }\n      else {\n        result = false;\n      }\n\n      if (result || success) {\n        if (ns) {\n          this._blockData._exist[`${base}.${ns}.${name}`] = true;\n        }\n        else {\n          this._blockData._exist[`${base}.${name}`] = true;\n        }\n      }\n\n      return result;\n    }\n    else {\n      for (let ns of nsArr) {\n        if (!this._lib.has(temp, ns)) {\n          return undefined;\n        }\n        temp = temp[ns];\n      }\n      return temp[name];\n    }\n  }\n  /**\n   * 检测是否存在指定app\n   *\n   * @method\n   * @name hasApp\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   * @return {boolean} 是否在存指定的app\n   */\n  hasApp(ns: string) {\n    return this._blockData._exist[`app.${ns}`]\n  }\n  /**\n   * 标识指定app已存在\n   *\n   * @method\n   * @name setApp\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   */\n  setApp(ns: string) {\n    return this._blockData._exist[`app.${ns}`] = true;\n  }\n  /**\n   * 添加app实现\n   *\n   * @method\n   * @name app\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   * @param {object} controller 控制器\n   */\n  app(ns: string, app?: any) {\n    let nsmatch = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n    let appName: string;\n    if (!nsmatch) {\n      nsmatch = [, null, ns]\n    }\n    [, ns, appName] = nsmatch;\n\n    if (arguments.length > 1) {\n      return this._block('app', ns, appName, app);\n    }\n    else {\n      return this._block('app', ns, appName);\n    }\n  }\n  /**\n   * 检测是否存在指定block\n   *\n   * @private\n   * @param {string} ns 名称空间\n   * @param {set} boolean 是否标记block已存在\n   * @return {boolean} 返加block标记\n   */\n  _blockExist(ns: string, set: boolean = false) {\n    let nsmatch: string[] = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n    let name: string;\n    if (!nsmatch) {\n      nsmatch = [, '_default', ns];\n\n    }\n    [, ns, name] = nsmatch;\n    if (set) {\n      return this._blockData._exist[`block.${ns}.${name}`] = true;\n    }\n    else {\n      return this._blockData._exist[`block.${ns}.${name}`]\n    }\n  }\n  /**\n   * 检测是否存在指定block\n   *\n   * @method\n   * @name hasBlock\n   * @memberof ndoo\n   * @param {string} ns 名称空间\n   * @return {boolean} 判断block是否存在\n   */\n  hasBlock(ns: string) {\n    return this._blockExist(ns);\n  }\n  /**\n   * 标识指定block\n   *\n   * @method\n   * @name setBlock\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   * @return {boolean} 设置标识成功\n   */\n  setBlock(ns: string) {\n    return this._blockExist(ns, true);\n  }\n  /**\n   * 添加block实现\n   *\n   * @method\n   * @name block\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   * @param {(object|function)} block 模块实现\n   * @return {(boolean|object|function)} 是否成功|标识本身\n   */\n  block(ns: string, block?: any) {\n    let nsmatch: string[] = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n    let name: string;\n    if (!nsmatch) {\n      nsmatch = [, 'default', ns];\n    }\n    [ns, name] = nsmatch;\n    if (arguments.length > 1) {\n      return this._block('block', ns, name, block);\n    }\n    else {\n      return this._block('block', ns, name);\n    }\n  }\n  /**\n   * 初始化模块\n   *\n   * @method\n   * @name initBlock\n   * @memberof ndoo\n   * @param {DOMElement} elem 初始化的元素\n   */\n  initBlock(elem: HTMLElement) {\n    let {_lib, router} = this;\n    let blockId: string | string[] = _lib.data(elem, 'nblockId');\n    blockId = (<string>blockId).split(/\\s*,\\s*|\\s+/);\n\n    let _call = (blockId: string) => {\n      router.parse(\n        /^(?:\\/?)(.*?)(?:\\/?([^\\/?#]+))(?:\\?(.*?))?(?:\\#(.*?))?$/,\n        blockId, (ns: string, blockName: string, params: string) => {\n          ns = ns.replace(/\\//g, '.');\n          let pkg: string = `${ns}.${blockName}`;\n          if (this.block(pkg)) {\n            this.trigger('NBLOCK_LOADED', elem, ns, blockName, params);\n          }\n          else if (this.hasBlock(pkg)) {\n            this.require([`${ns}.${blockName}`], () => {\n              this.trigger('NBLOCK_LOADED', elem, ns, blockName, params);\n            }, this._loader['block']);\n          }\n        });\n    }\n    _lib.each(blockId, (id: string) => {\n      let _self = this;\n      _call.call(_self, id);\n    });\n  }\n  private _bindBlockEvent() {\n    this.on('NBLOCK_LOADED', (elem, ns, name, params) => {\n      ns == null && (ns = '_default');\n      let block = this.block(`${ns}.${name}`);\n      if (block) {\n        if (this._lib.isFunction(block.init)) {\n          let call = () => {\n            block.init(elem, params);\n          }\n\n          if (block.depend) {\n            this.require([].concat(block.depend), call, this._loader['block']);\n          }\n          else {\n            call();\n          }\n        }\n        else if (this._lib.isFunction(block)) {\n          block(elem, params);\n        }\n      }\n    });\n    this.on('NBLOCK_INIT', () => {\n      let blockEl = this._lib.querySelector('[data-nblock-id]');\n      if (!blockEl || !blockEl.length) {\n        return;\n      }\n      let blocks:any[] = [];\n      for (let el of blockEl) {\n        let auto = this._lib.data(el, 'nblockAuto');\n        let level = parseInt(this._lib.data(el, 'nblockLevel')) || 5;\n        blocks.push([level, auto, el]);\n      }\n      blocks = blocks.sort((block1: any, block2: any) => block1[0] - block2[0]);\n      for (let item of blocks) {\n        let [, auto, block] = item;\n        if (auto === undefined || auto.toString() != 'false') {\n          this.initBlock(block);\n        }\n      }\n    });\n  }\n  /**\n   * 添加/获取serivce\n   *\n   * @method\n   * @name service\n   * @memberof ndoo\n   * @param {string}   namespace 名称空间\n   * @param {variable} service 对象\n   * @example var _n = ndoo;\n   * _n.service('user', {\n   *   hasSignin: function(){\n   *     return false;\n   *   }\n   * });\n   * user = _n.service('user');\n   * console.log(user.hasSignin());\n   */\n  service(ns: string, service: any) {\n    let nsmatch = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n    let name: string;\n\n    if (!nsmatch) {\n      nsmatch = [, '_default', ns];\n    }\n    [, ns, name] = nsmatch;\n\n    if (arguments.length > 1) {\n      return this._block('service', ns, name, service);\n    }\n    else {\n      service = this._block('service', ns, name);\n      if (service && this._lib.isFunction(service.init)) {\n        return service.init();\n      }\n      else {\n        return service\n      }\n    }\n  }\n  /**\n   * 路由函数\n   *\n   * @private\n   * @method\n   * @name dispatch\n   * @memberof ndoo\n   */\n  dispatch() {\n    let {  _lib } = this;\n    let filterHaldner = (type: string, controller: any, actionName: string, params: string) => {\n      let data: any;\n      let { _lib } = this;\n      if (type === 'before') {\n        data = controller.before\n      }\n      else if (type === 'after') {\n        data = controller.after;\n      }\n      if (!data) {\n        return;\n      }\n      let _data: any[];\n      if (typeof data === 'object') {\n        _data = [].concat(data);\n      }\n      for (let dataItem of _data) {\n        let _filter = dataItem.filter;\n        if (!_lib.isArray(_filter)) {\n          _filter = [].concat(_filter.split(/\\s*,\\s*|\\s+/))\n        }\n        let isRun = true;\n        if (dataItem.only) {\n          let _only = dataItem.only;\n          if (!_lib.isArray(_only)) {\n            _only = [].concat(_only.split(/\\s*,\\s*|\\s+/))\n          }\n          if (_lib.indexOf(_only, actionName) < 0) {\n            isRun = false\n          }\n        }\n        else if (dataItem.except) {\n          let _except = dataItem.except;\n          if (!_lib.isArray(_except)) {\n            _except = [].concat(_except.split(/\\s*,\\s*|\\s+/))\n          }\n          if (_lib.indexOf(_except, actionName) > -1) {\n            isRun = false;\n          }\n        }\n        if (isRun) {\n          for (let filter of _filter) {\n            controller[`${filter}Filter`](actionName, params);\n          }\n        }\n      }\n    }\n    this.on(\n      'NAPP_ACTION_BEFORE',\n      (...data: any[]) => filterHaldner.apply(null, ['before'].concat(data))\n    );\n    this.on(\n      'NAPP_ACTION_AFTER',\n      (...data: any[]) => filterHaldner.apply(null, ['after'].concat(data))\n    );\n    this.on('NAPP_LOADED', (ns: string, appName: string, actionName: string, params) => {\n      let appData: any;\n      let _self = this;\n      if (ns) {\n        appData = this.app(`${ns}.${appName}`)\n      }\n      else {\n        appData = this.app(appName)\n      }\n\n      if (!_lib.has(appData, `${actionName}Action`) \n        && _lib.has(appData, 'emptyAction')) {\n          actionName = '_empty';\n      }\n\n      let depend = [];\n\n      if (appData['depend']) {\n        depend = depend.concat(appData['depend']);\n      }\n\n      if (appData[`${actionName}Depend`]) {\n        depend = depend.concat(appData[`${actionName}Depend`]);\n      }\n\n      let filterPrefix = appName;\n      if (ns) {\n        filterPrefix = (`${ns}.${appName}`).replace(/\\./g, '_')\n      }\n      filterPrefix = filterPrefix.toUpperCase();\n\n      let run = function() {\n        let args: any[] = [].slice.call(arguments, 0);\n        args.unshift(params);\n        if (actionName) {\n          _self.trigger('NAPP_ACTION_BEFORE', appData, actionName, params);\n          _self.trigger(`NAPP_${filterPrefix}_ACTION_BEFORE`, appData, actionName, params);\n\n          if (appData[`${actionName}Before`]) {\n            appData[`${actionName}Before`].apply(appData, args);\n          }\n          if (appData[`${actionName}Action`]) {\n            appData[`${actionName}Action`].apply(appData, args);\n          }\n          if (appData[`${actionName}After`]) {\n            appData[`${actionName}After`].apply(appData, args);\n          }\n\n          _self.trigger(`NAPP_${filterPrefix}_ACTION_AFTER`, appData, actionName, params);\n          _self.trigger('NAPP_ACTION_AFTER', appData, actionName, params);\n        }\n        _self.trigger('STATUS:NBLOCK_INIT');\n      }\n\n      if (depend.length) {\n        this.require(_lib.uniq(depend), run, this._loader['app']);\n      }\n      else {\n        run();\n      }\n    });\n    this.on('PAGE_STATUS_ROUTING', (data) => {\n      this.router.parse(\n        /^(?:\\/?)(.*?)(?:\\/?([^\\/?#]+))(?:\\?(.*?))?(?:\\#(.*?))?$/,\n        data, (appName: string, actionName: string, params: string) => {\n        let nsmatch = appName.match(/(.*?)(?:[/.]([^/.]+))$/);\n        let ns: string = '';\n        if (nsmatch) {\n          [, ns, appName] = nsmatch;\n        }\n        let pkg: string;\n        if (ns) {\n          ns = ns.replace(/\\//g, '.');\n          pkg = `${ns}.${appName}`;\n        }\n        else {\n          pkg = appName;\n        }\n\n        if (this.app(pkg)) {\n          this.trigger('NAPP_LOADED', ns, appName, actionName, params);\n        }\n        else if (this.hasApp(pkg)) {\n          this.require([pkg], function() {\n            this.trigger('NAPP_LOADED', ns, appName, actionName, params);\n          }, this._loader['app']);\n        }\n        else {\n          this.trigger('STATUS:NBLOCK_INIT');\n        }\n      });\n    });\n  }\n  /**\n   * 触发页面状态\n   *\n   * @private\n   * @method\n   * @name triggerPageStatus\n   * @memberof ndoo\n   * @param depend {string|array} 赖数组\n   */\n  public triggerPageStatus(depend: string | string[]) {\n    let { _lib } = this;\n    let call = () => {\n      this.trigger('STATUS:PAGE_STATUS_FAST')\n\n      _lib.onready(() => {\n        this.trigger('STATUS:PAGE_STATUS_DOMPREP');\n        this.trigger('STATUS:PAGE_STATUS_DOM');\n        this.trigger('STATUS:PAGE_STATUS_DOMORLOAD');\n      });\n\n      _lib.onload(() => {\n        this.trigger('STATUS:PAGE_STATUS_LOAD');\n      });\n\n      this.on('PAGE_STATUS_DOM', () => {\n        if (this.pageId) {\n          this.trigger('STATUS:PAGE_STATUS_ROUTING', this.pageId);\n        }\n      });\n    }\n    depend ? this.require([].concat(depend), call, this._loader['init']) : call();\n  }\n  /**\n   * 初始化页面\n   *\n   * @method\n   * @name init\n   * @memberof ndoo\n   * @param {string} id DOM的ID或指定ID\n   * @param {array} depend 依赖\n   * @example // ndoo alias _n\n   * _n.init('home/index')\n   * // set depend\n   * _n.init('home/index', ['library', 'common'])\n   */\n  init(id?: string | string[], depend?: string| string[]) {\n    let { _lib } = this;\n    if (_lib.isArray(id)) {\n      [id, depend] = ['', id];\n    }\n\n    this.initPageId(<string>id);\n    this.dispatch();\n    this.triggerPageStatus(depend);\n    return this;\n  }\n  private _rebuildEvent() {\n    let { _lib } = this;\n    let eventHandle = _lib.extend({\n      events: {},\n      listened: {}\n    }, _lib.Events);\n    this.event = _lib.extend(this.event, {\n      eventHandle,\n      on: function(eventName: string, callback: Function) {\n        let { eventHandle } = this;\n        eventHandle.on(eventName, callback);\n        eventHandle.listened[eventName] = true;\n        if (_lib.has(eventHandle.events, `STATUS:${eventName}`)) {\n          callback.apply(eventHandle, eventHandle.events[`STATUS:${eventName}`]);\n        }\n        if (_lib.has(eventHandle.events, eventName)) {\n          for (let item of eventHandle.events[eventName]) {\n            callback.apply(eventHandle, item);\n          }\n        }\n      },\n      trigger: function(eventName: string, eventType: string, data: any[]) {\n        let { eventHandle } = this;\n        if (eventType === 'DEFAULT') {\n          eventHandle.trigger.apply(eventHandle, [eventName].concat(data));\n        }\n        else if (eventType === 'DELAY') {\n          if (_lib.has(eventHandle.listened, eventName)) {\n            eventHandle.trigger.apply(eventHandle, [eventName].concat(data));\n          }\n          if (!_lib.has(eventHandle.events, eventName)) {\n            eventHandle.events[eventName] = []\n          }\n          eventHandle.events[eventName].push(data);\n        }\n        else if (eventType === 'STATUS') {\n          if (!_lib.has(eventHandle.events, `${eventType}:${eventName}`)) {\n            eventHandle.events[`${eventType}:${eventName}`] = data;\n            if (_lib.has(eventHandle.listened, eventName)) {\n              eventHandle.trigger.apply(eventHandle, [eventName].concat(data));\n            }\n          }\n        } \n      },\n      off: function(eventName: string) {\n        let { eventHandle } = this;\n        eventHandle.off(eventName);\n        delete eventHandle.listened[eventName];\n        delete eventHandle.events[eventName];\n      },\n      init: function() {\n        let { inited, _temp, TYPE_ON, TYPE_TRIGGER } = this;\n        if (!inited && _temp.length) {\n          for (let item of _temp) {\n            if (item.type === TYPE_ON) {\n              this.on(item.eventName, item.callback);\n            }\n            else if (item.type === TYPE_TRIGGER) {\n              this.trigger(item.eventName, item.eventTYpe, item.data);\n            }\n          }\n          inited = true;\n        }\n      }\n    });\n  }\n  public RegType: any = RegType;\n  public Component: any = getComponent(this);\n  constructor() {\n    super();\n    this.storage._lib = this._lib;\n\n    this._rebuildEvent();\n    this.event.init();\n\n    this.trigger('STATUS:NAPP_DEFINE');\n    this.trigger('STATUS:NBLOCK_DEFINE');\n    this.trigger('STATUS:NSERVICE_DEFINE');\n    this._bindBlockEvent();\n\n    if (prepData) {\n      removePrepData();\n    }\n\n    // this.RegType = RegType;\n    // this.Component = getComponent(this);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/ndoo.ts","import { EventApi } from './event/api';\nimport { EventBasic } from './event/basic';\nimport { getPrepData, PrepDataType } from './prepData';\nlet prepData = getPrepData();\n\n/**\n * ndoojs 全局名称空间，短名称N\n *\n * @namespace ndoo\n */\nclass Prep extends EventApi {\n  public event: typeof EventBasic = EventBasic;\n\n  /**\n   * 变量存储名称空间\n   *\n   * @namespace\n   * @name vars\n   * @alias _vars\n   * @memberof ndoo\n   * @type {object}\n   * @example // alias _vars\n   * var _vars = ndoo.vars;\n   * vars.bar = 'bar';\n   */\n  public vars: any = {};\n\n  /**\n   * 函数存储名称空间\n   *\n   * @namespace\n   * @name func\n   * @memberof ndoo\n   * @type {object}\n   * @example // alias _func\n   * var _func = ndoo.func;\n   * _func.foo = function() {\n   *   console.log('foo');\n   * }\n   */\n  public func: any = {};\n\n  /**\n   * 依赖库存储空间\n   */\n  public _lib: any = {};\n\n  constructor() {\n    super();\n    if (prepData) {\n      this.vars = (prepData as PrepDataType).vars;\n      this.func = (prepData as PrepDataType).func;\n    }\n  }\n}\n\nexport { Prep }\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/prep.ts","import { EventBasic } from './basic';\nexport class EventApi {\n  public event: typeof EventBasic;\n\n  /**\n   * global on\n   *\n   * @method\n   * @name on\n   * @memberof ndoo\n   * @param {string} eventName 事件名称\n   * @param {function} callback 事件回调\n   * @example // ndoo alias _n\n   * var _n = ndoo;\n   * _n.on('testEvent', function(data, data2){\n   *   console.log(data);\n   *   console.log(data2);\n   * });\n   * _n.trigger('testEvent', 'testEvent', 'kkk');\n   */\n  public on(eventName: string | string[], callback: Function) {\n    eventName = (<string>eventName).split(/\\s*,\\s*|\\s+/);\n    for (let e of <string[]>eventName) {\n        this.event.on(e, callback);\n    }\n  }\n\n  /**\n   * global trigger\n   *\n   * @method\n   * @name trigger\n   * @memberof ndoo\n   * @param {string} eventName 事件名称\n   * @param {variable} data 数据，可以是多个\n   */\n  public trigger(eventName: string | string[], ...data: any[]) {\n    let _index = eventName.indexOf(':');\n    let type = (<string>eventName).substring(0, _index++) || 'DEFAULT';\n    let e = (<string>eventName).substring(_index);\n\n    this.event.trigger(e, type, data);\n  }\n\n  /**\n   * global off\n   *\n   * @method\n   * @name off\n   * @memberof ndoo\n   * @param {string} eventName 事件名称\n   */\n  public off(eventName: string | string[]) {\n    eventName = (<string>eventName).split(/\\s*,\\s*|\\s+/);\n    for(let e of <string[]>eventName) {\n        this.event.off(e);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/event/api.ts","import { getPrepData, PrepDataType } from '../prepData';\nlet prepData = getPrepData();\n\n/**\n * 事件模块\n *\n * @namespace\n * @name event\n * @memberof ndoo\n * @param {string} name 事件名称\n * @param {string} type 事件类型\n */\nexport class EventBasic {\n  constructor(name: string, type: string) {\n    return `#${name}:#${type}`;\n  }\n\n  /**\n   * 暂存数据类型\n   *\n   * @name TYPE_ON\n   * @memberof ndoo.event\n   * @type {number}\n   */\n  static TYPE_ON:number = 1;\n\n  /**\n   * 暂存数据类型\n   *\n   * @name TYPE_TRIGGER\n   * @memberof ndoo.event\n   * @type {number}\n   */\n  static TYPE_TRIGGER:number = 2;\n\n  /**\n   * init token\n   *\n   * @name inited\n   * @memberof ndoo.event\n   * @type {boolean}\n   */\n  static inited:boolean = false;\n\n  /**\n   * event stack\n   *\n   * @private\n   * @name _temp\n   * @memberof ndoo.event\n   * @type {array}\n   */\n  static _temp:Array<any> = prepData ? (prepData as PrepDataType).eventData : [];\n\n  /**\n   * on api\n   *\n   * @method\n   * @name on\n   * @memberof ndoo.event\n   * @param {string} eventName 事件名称\n   * @param {function} callback 回调函数\n   */\n  static on(eventName: string, callback: Function) {\n    this._temp.push({\n      type: this.TYPE_ON,\n      eventName, callback\n    })\n  }\n\n  /**\n   * trigger api\n   *\n   * @method\n   * @name trigger\n   * @memberof ndoo.event\n   * @param eventName {string} 事件名称\n   * @param eventType {string} 事件类型\n   * @param data {variable} 数据类型\n   */\n  static trigger(eventName: string, eventType: string, data: Array<any>) {\n    this._temp.push({\n      type: this.TYPE_TRIGGER,\n      eventName, eventType, data\n    });\n  }\n\n  /**\n   * off api\n   *\n   * @method\n   * @name off\n   * @memberof ndoo.event\n   * @param eventName {string}\n   */\n  static off(eventName: string) { }\n  static init() {}\n}\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/event/basic.ts","export interface PrepDataType {\n  eventData: any[],\n  func: any,\n  vars: any\n}\n\nexport let getPrepData = function (): PrepDataType | boolean {\n  if (typeof window != 'undefined' && window['ndoo_prep_data']) {\n    return window['ndoo_prep_data'];\n  }\n  return false;\n}\n\nexport let setPrepData = function () {\n  let _self: any = {};\n  if (typeof window != 'undefined') {\n    _self = window;\n  }\n  if (!_self.ndoo_prep_data) {\n    _self.ndoo_prep_data = {\n      eventData: [],\n      func: {},\n      vars: {}\n    };\n  }\n}\n\nexport let removePrepData = function () {\n  if (typeof window != 'undefined' && window['ndoo_prep_data']) {\n    delete window['ndoo_prep_data'];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/prepData.ts","/**\n * 变量存储\n *\n * @method\n * @name storage\n * @memberof ndoo\n * @param {string} key 键名\n * @param {variable} value 值\n * @param {const} option 选项，覆盖或删除\n * @example // alias _stor\n * var _stor = ndoo.storage;\n * // set abc vlaue 1\n * _stor('abc', 1); // 1\n * // set abc value 2 failed\n * _stor('abc', 2); // false\n * // set abc value 2\n * _stor('abc', 2, _stor.REWRITE); // 2\n * // delete abc\n * _stor('abc', null, _stor.DESTROY); // true\n */\nexport class Storage {\n  static _data: any = {};\n  /**\n   * storage重写常量\n   *\n   * @memberof ndoo.storage\n   */\n  static REWRITE: number = 1;\n\n  /**\n   * storage删除常量\n   *\n   * @memberof ndoo.storage\n   */\n  static DESTROY: number = 2;\n  static _lib: {\n      has(data: any, key: string): boolean;\n  };\n\n  constructor(key, value, option: number) {\n    let _self = Storage;\n    let destroy = option & _self.DESTROY;\n    let rewrite = option & _self.REWRITE;\n    let data = _self._data;\n\n    if (value === undefined) {\n      return data[key];\n    }\n\n    if (destroy) {\n      delete data[key];\n      return true;\n    }\n\n    if (!rewrite && _self._lib.has(data, key)) {\n      return false;\n    }\n\n    return data[key] = value;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/storage.ts","/**\n * 内置路由通过正则配匹各部件\n *\n * @private\n * @namespace\n * @memberof ndoo\n * @type {object}\n */\nexport class Router {\n  /**\n   * 路由解析方法\n   * \n   * @private\n   * @method\n   * @memberof ndoo.router\n   * @param route {RegExp} 路由正则\n   * @param url {string url路径\n   * @param callback {Function} 回调函数\n   */\n  static parse(route: RegExp, url: string, callback: Function) {\n    let routeMatch = route.exec(url);\n    if (routeMatch != null) {\n      callback.apply(null, routeMatch.slice(1));\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/router.ts","import * as _ from 'underscore';\nimport * as depend from './depend'\nimport { Events } from './event';\nexport let _lib = _.extend({ Events }, depend, _);\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/lib/index.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"_\"\n// module id = 10\n// module chunks = 0","/// <references src=\"../declare.d.ts\" />\nimport * as jquery from 'jquery';\nimport * as zepto from 'zepto';\n\nlet $ = jquery || zepto;\nlet depend: any = {};\nif ($) {\n  depend.onready = function (callback: EventListener) {\n    return $(callback);\n  }\n  depend.onload = function (callback: EventListener) {\n    return $(window).on('load', callback);\n  }\n  depend.querySelector = function (selector: any) {\n    return $(selector).get();\n  }\n  depend.data = function (elem: HTMLElement, key: string, value: any) {\n    if (arguments.length === 2) {\n      return $(elem).data(key);\n    }\n    else if (arguments.length === 3) {\n      return $(elem).data(key, value);\n    }\n  }\n}\nelse {\n  depend.onready = function (callback: EventListener) {\n    return document.addEventListener('DOMContentLoaded', callback, false);\n  }\n  depend.onload = function (callback: EventListener) {\n    return addEventListener('load', callback, false);\n  }\n  depend.querySelector = function (selector: any) {\n    return document.querySelectorAll(selector);\n  }\n  depend.data = function (elem: HTMLElement, key: string, value?: any) {\n    let setData: Function;\n    let getData: Function;\n\n    if (elem.dataset) {\n      setData = (elem, key, value) => elem.dataset[key] = value;\n      getData = (elem, key) => elem.dataset[key];\n    }\n    else {\n      key = key.replace(/([A-Z])/g, (char) => '-' + char.toLocaleLowerCase());\n      setData = (elem, key, value) => elem.setAttribute(key, value);\n      getData = (elem, key) => elem.getAttribute(key);\n    }\n\n    if (arguments.length === 2) {\n      return getData(elem, key);\n    }\n    else if (arguments.length === 3) {\n      return setData(elem, key, value);\n    }\n  }\n}\n\nexport let { onready, onload, querySelector, data } = depend;\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/lib/depend.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 12\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Zepto\"\n// module id = 13\n// module chunks = 0","import * as _ from 'underscore';\nimport * as Backbone from 'backbone';\n\nlet Events: any = {};\n\nif (Backbone) {\n  Events = Backbone.Events;\n}\nelse {\n// Backbone.Events\n// ---------------\n\n// A module that can be mixed in to *any object* in order to provide it with\n// a custom event channel. You may bind a callback to an event with 'on' or\n// remove with 'off'; 'trigger'-ing an event fires all callbacks in\n// succession.\n//\n//     var object = {};\n//     _.extend(object, Backbone.Events);\n//     object.on('expand', function(){ alert('expanded'); });\n//     object.trigger('expand');\n//\n// var Events: any = {};\n\n// Regular expression used to split event strings.\nvar eventSplitter = /\\s+/;\n\n// Iterates over the standard 'event, callback' (as well as the fancy multiple\n// space-separated events '\"change blur\", callback' and jQuery-style event\n// maps '{event: callback}').\nvar eventsApi = function (iteratee, events, name, callback, opts) {\n  var i = 0, names;\n  if (name && typeof name === 'object') {\n    // Handle event maps.\n    if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n    for (names = _.keys(name); i < names.length; i++) {\n      events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n    }\n  } else if (name && eventSplitter.test(name)) {\n    // Handle space separated event names by delegating them individually.\n    for (names = name.split(eventSplitter); i < names.length; i++) {\n      events = iteratee(events, names[i], callback, opts);\n    }\n  } else {\n    // Finally, standard events.\n    events = iteratee(events, name, callback, opts);\n  }\n  return events;\n};\n\n// Bind an event to a 'callback' function. Passing '\"all\"' will bind\n// the callback to all events fired.\nEvents.on = function (name, callback, context) {\n  return internalOn(this, name, callback, context);\n};\n\n// Guard the 'listening' argument from the public API.\nvar internalOn = function (obj: any, name: any, callback: any, context: any, listening?: any) {\n  obj._events = eventsApi(onApi, obj._events || {}, name, callback, {\n    context: context,\n    ctx: obj,\n    listening: listening\n  });\n\n  if (listening) {\n    var listeners = obj._listeners || (obj._listeners = {});\n    listeners[listening.id] = listening;\n  }\n\n  return obj;\n};\n\n// Inversion-of-control versions of 'on'. Tell *this* object to listen to\n// an event in another object... keeping track of what it's listening to\n// for easier unbinding later.\nEvents.listenTo = function (obj, name, callback) {\n  if (!obj) return this;\n  var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n  var listeningTo = this._listeningTo || (this._listeningTo = {});\n  var listening = listeningTo[id];\n\n  // This object is not listening to any other events on 'obj' yet.\n  // Setup the necessary references to track the listening callbacks.\n  if (!listening) {\n    var thisId = this._listenId || (this._listenId = _.uniqueId('l'));\n    listening = listeningTo[id] = { obj: obj, objId: id, id: thisId, listeningTo: listeningTo, count: 0 };\n  }\n\n  // Bind callbacks on obj, and keep track of them on listening.\n  internalOn(obj, name, callback, this, listening);\n  return this;\n};\n\n// The reducing API that adds a callback to the 'events' object.\nvar onApi = function (events, name, callback, options) {\n  if (callback) {\n    var handlers = events[name] || (events[name] = []);\n    var context = options.context, ctx = options.ctx, listening = options.listening;\n    if (listening) listening.count++;\n\n    handlers.push({ callback: callback, context: context, ctx: context || ctx, listening: listening });\n  }\n  return events;\n};\n\n// Remove one or many callbacks. If 'context' is null, removes all\n// callbacks with that function. If 'callback' is null, removes all\n// callbacks for the event. If 'name' is null, removes all bound\n// callbacks for all events.\nEvents.off = function (name, callback, context) {\n  if (!this._events) return this;\n  this._events = eventsApi(offApi, this._events, name, callback, {\n    context: context,\n    listeners: this._listeners\n  });\n  return this;\n};\n\n// Tell this object to stop listening to either specific events ... or\n// to every object it's currently listening to.\nEvents.stopListening = function (obj, name, callback) {\n  var listeningTo = this._listeningTo;\n  if (!listeningTo) return this;\n\n  var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\n  for (var i = 0; i < ids.length; i++) {\n    var listening = listeningTo[ids[i]];\n\n    // If listening doesn't exist, this object is not currently\n    // listening to obj. Break out early.\n    if (!listening) break;\n\n    listening.obj.off(name, callback, this);\n  }\n  if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n\n  return this;\n};\n\n// The reducing API that removes a callback from the 'events' object.\nvar offApi = function (events, name, callback, options) {\n  if (!events) return;\n\n  var i = 0, listening;\n  var context = options.context, listeners = options.listeners;\n\n  // Delete all events listeners and \"drop\" events.\n  if (!name && !callback && !context) {\n    var ids = _.keys(listeners);\n    for (; i < ids.length; i++) {\n      listening = listeners[ids[i]];\n      delete listeners[listening.id];\n      delete listening.listeningTo[listening.objId];\n    }\n    return;\n  }\n\n  var names = name ? [name] : _.keys(events);\n  for (; i < names.length; i++) {\n    name = names[i];\n    var handlers = events[name];\n\n    // Bail out if there are no events stored.\n    if (!handlers) break;\n\n    // Replace events if there are any remaining.  Otherwise, clean up.\n    var remaining = [];\n    for (var j = 0; j < handlers.length; j++) {\n      var handler = handlers[j];\n      if (\n        callback && callback !== handler.callback &&\n        callback !== handler.callback._callback ||\n        context && context !== handler.context\n      ) {\n        remaining.push(handler);\n      } else {\n        listening = handler.listening;\n        if (listening && --listening.count === 0) {\n          delete listeners[listening.id];\n          delete listening.listeningTo[listening.objId];\n        }\n      }\n    }\n\n    // Update tail event if the list has any events.  Otherwise, clean up.\n    if (remaining.length) {\n      events[name] = remaining;\n    } else {\n      delete events[name];\n    }\n  }\n  if (_.size(events)) return events;\n};\n\n// Bind an event to only be triggered a single time. After the first time\n// the callback is invoked, its listener will be removed. If multiple events\n// are passed in using the space-separated syntax, the handler will fire\n// once for each event, not once for a combination of all events.\nEvents.once = function (name, callback, context) {\n  // Map the event into a '{event: once}' object.\n  var events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));\n  return this.on(events, void 0, context);\n};\n\n// Inversion-of-control versions of 'once'.\nEvents.listenToOnce = function (obj, name, callback) {\n  // Map the event into a '{event: once}' object.\n  var events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));\n  return this.listenTo(obj, events);\n};\n\n// Reduces the event callbacks into a map of '{event: onceWrapper}'.\n// 'offer' unbinds the 'onceWrapper' after it has been called.\nvar onceMap = function (map, name, callback, offer) {\n  if (callback) {\n    var once = map[name] = _.once(function () {\n      offer(name, once);\n      callback.apply(this, arguments);\n    });\n    once._callback = callback;\n  }\n  return map;\n};\n\n// Trigger one or many events, firing all bound callbacks. Callbacks are\n// passed the same arguments as 'trigger' is, apart from the event name\n// (unless you're listening on '\"all\"', which will cause your callback to\n// receive the true name of the event as the first argument).\nEvents.trigger = function (name) {\n  if (!this._events) return this;\n\n  var length = Math.max(0, arguments.length - 1);\n  var args = Array(length);\n  for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n  eventsApi(triggerApi, this._events, name, void 0, args);\n  return this;\n};\n\n// Handles triggering the appropriate event callbacks.\nvar triggerApi = function (objEvents, name, cb, args) {\n  if (objEvents) {\n    var events = objEvents[name];\n    var allEvents = objEvents.all;\n    if (events && allEvents) allEvents = allEvents.slice();\n    if (events) triggerEvents(events, args);\n    if (allEvents) triggerEvents(allEvents, [name].concat(args));\n  }\n  return objEvents;\n};\n\n// A difficult-to-believe, but optimized internal dispatch function for\n// triggering events. Tries to keep the usual cases speedy (most internal\n// Backbone events have 3 arguments).\nvar triggerEvents = function (events, args) {\n  var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n  switch (args.length) {\n    case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n    case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n    case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n    case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n    default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n  }\n};\n\n// Aliases for backwards compatibility.\nEvents.bind = Events.on;\nEvents.unbind = Events.off;\n}\n\nexport { Events };\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/lib/event.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Backbone\"\n// module id = 15\n// module chunks = 0","export enum RegType {\n  App,\n  Block,\n  Service\n}\n\nexport let getComponent = (ndoo: any) => {\n  /**\n   * ndoo组件注册\n   */\n  return (path: string, type: RegType, isStatic = true) => (component: any) => {\n    // 是否静态类型\n    let instance = component;\n    if (!isStatic) {\n      instance = new component();\n    }\n    // 注册类型\n    let method = '';\n    switch (type) {\n      case RegType.App:\n        method = 'app';\n        break;\n      case RegType.Block:\n        method = 'block';\n        break;\n      case RegType.Service:\n        method = 'service';\n        break;\n    }\n    // 注册\n    method && ndoo[method](path, instance);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./_source/ts/src/component.ts"],"sourceRoot":""}