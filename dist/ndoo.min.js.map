{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///dist/ndoo.min.js","webpack:///webpack/bootstrap 0ade3dbf8dbfdedb37f5","webpack:///./_source/ts/ndoo.ts","webpack:///./_source/ts/src/ndoo.ts","webpack:///./_source/ts/src/prep.ts","webpack:///./_source/ts/src/event/api.ts","webpack:///./_source/ts/src/event/basic.ts","webpack:///./_source/ts/src/prepData.ts","webpack:///./_source/ts/src/storage.ts","webpack:///./_source/ts/src/router.ts","webpack:///./_source/ts/src/lib/index.ts","webpack:///external \"_\"","webpack:///./_source/ts/src/lib/depend.ts","webpack:///external \"jQuery\"","webpack:///external \"Zepto\"","webpack:///./_source/ts/src/lib/event.ts","webpack:///external \"Backbone\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_10__","__WEBPACK_EXTERNAL_MODULE_12__","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_15__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","ndoo_1","Ndoo","__extends","d","b","__","constructor","hasOwnProperty","prototype","Object","create","prep_1","storage_1","router_1","lib_1","prepData_1","prepData","getPrepData","_super","_lib","pageId","_pk","Date","storage","Storage","router","Router","_loader","app","block","init","appLoader","blockLoader","initLoader","doLoader","depend","callback","Do","apply","concat","seajsLoader","seajs","use","_blockData","_block","_app","_service","_exist","_rebuildEvent","event","trigger","_bindBlockEvent","removePrepData","initPageId","document","el","getElementById","getAttribute","getPk","prefix","setLoader","type","loader","toLowerCase","Error","base","ns","name","data","nsArr","replace","split","result","success","temp","arguments","length","_i","nsArr_1","ns_1","defaults","_a","nsArr_2","ns_2","has","hasApp","setApp","appName","nsmatch","match","_blockExist","set","hasBlock","setBlock","initBlock","elem","_this","blockId","_call","parse","blockName","params","pkg","each","_self","on","isFunction","blockEl","querySelector","blocks","blockEl_1","auto","level","parseInt","push","sort","block1","block2","blocks_1","item","undefined","toString","service","dispatch","filterHaldner","controller","actionName","before","after","_data","_data_1","dataItem","_filter","filter","isArray","isRun","only","_only","indexOf","except","_except","_filter_1","appData","filterPrefix","toUpperCase","run","args","slice","unshift","uniq","triggerPageStatus","onready","onload","eventHandle","extend","events","listened","Events","eventName","eventType","off","inited","_temp","TYPE_ON","TYPE_TRIGGER","_temp_1","eventTYpe","Prep","api_1","basic_1","EventBasic","vars","func","EventApi","e","_index","substring","eventData","window","setPrepData","ndoo_prep_data","key","value","option","destroy","DESTROY","rewrite","REWRITE","route","url","routeMatch","exec","_","event_1","jquery","zepto","$","selector","addEventListener","querySelectorAll","dataset","char","toLocaleLowerCase","setAttribute","Backbone","eventSplitter","eventsApi","iteratee","opts","names","i","context","keys","test","internalOn","obj","listening","_events","onApi","ctx","listeners","_listeners","listenTo","_listenId","uniqueId","listeningTo","_listeningTo","thisId","objId","count","options","handlers","offApi","stopListening","ids","isEmpty","remaining","j","handler","_callback","size","once","onceMap","bind","listenToOnce","map","offer","Math","max","Array","triggerApi","objEvents","cb","allEvents","all","triggerEvents","ev","l","a1","a2","a3","unbind"],"mappings":"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","file":"./dist/ndoo.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"_\"), require(\"jQuery\"), require(\"Zepto\"), require(\"Backbone\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\", \"jQuery\", \"Zepto\", \"Backbone\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ndoo\"] = factory(require(\"_\"), require(\"jQuery\"), require(\"Zepto\"), require(\"Backbone\"));\n\telse\n\t\troot[\"ndoo\"] = factory(root[\"_\"], root[\"jQuery\"], root[\"Zepto\"], root[\"Backbone\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_15__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"_\"), require(\"jQuery\"), require(\"Zepto\"), require(\"Backbone\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\", \"jQuery\", \"Zepto\", \"Backbone\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ndoo\"] = factory(require(\"_\"), require(\"jQuery\"), require(\"Zepto\"), require(\"Backbone\"));\n\telse\n\t\troot[\"ndoo\"] = factory(root[\"_\"], root[\"jQuery\"], root[\"Zepto\"], root[\"Backbone\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_15__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar ndoo_1 = __webpack_require__(2);\n\tmodule.exports = new ndoo_1.Ndoo();\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar prep_1 = __webpack_require__(3);\n\tvar storage_1 = __webpack_require__(7);\n\tvar router_1 = __webpack_require__(8);\n\tvar lib_1 = __webpack_require__(9);\n\tvar prepData_1 = __webpack_require__(6);\n\tvar prepData = prepData_1.getPrepData();\n\tvar Ndoo = (function (_super) {\n\t    __extends(Ndoo, _super);\n\t    function Ndoo() {\n\t        _super.call(this);\n\t        this._lib = lib_1._lib;\n\t        /**\n\t         * page id\n\t         *\n\t         * @name pageId\n\t         * @memberof ndoo\n\t         * @type {string}\n\t         */\n\t        this.pageId = '';\n\t        /**\n\t         * 内部_pk主键\n\t         *\n\t         * @private\n\t         * @name _pk\n\t         * @memberof ndoo\n\t         */\n\t        this._pk = +new Date();\n\t        this.storage = storage_1.Storage;\n\t        this.router = router_1.Router;\n\t        this._loader = {\n\t            app: 'do',\n\t            block: 'do',\n\t            init: 'do',\n\t            appLoader: null,\n\t            blockLoader: null,\n\t            initLoader: null,\n\t            doLoader: function (depend, callback) {\n\t                Do.apply(null, depend.concat(callback));\n\t            },\n\t            seajsLoader: function (depend, callback) {\n\t                seajs.use(depend, callback);\n\t            }\n\t        };\n\t        this._blockData = {\n\t            _block: {},\n\t            _app: {},\n\t            _service: {},\n\t            _exist: {}\n\t        };\n\t        this.storage._lib = this._lib;\n\t        this._rebuildEvent();\n\t        this.event.init();\n\t        this.trigger('STATUS:NAPP_DEFINE');\n\t        this.trigger('STATUS:NBLOCK_DEFINE');\n\t        this.trigger('STATUS:NSERVICE_DEFINE');\n\t        this._bindBlockEvent();\n\t        if (prepData) {\n\t            prepData_1.removePrepData();\n\t        }\n\t    }\n\t    /**\n\t     * initPageId 初始化 pageId\n\t     *\n\t     * @private\n\t     * @name initPageId\n\t     * @memberof ndoo\n\t     */\n\t    Ndoo.prototype.initPageId = function (id) {\n\t        if (this.pageId) {\n\t            return;\n\t        }\n\t        if (typeof document != 'undefined') {\n\t            var el = document.getElementById(id || 'scriptArea');\n\t            if (el) {\n\t                this.pageId = el.getAttribute('data-page-id') || '';\n\t            }\n\t            if (!this.pageId && id) {\n\t                this.pageId = id;\n\t            }\n\t        }\n\t    };\n\t    /**\n\t     * 获取唯一key\n\t     *\n\t     * @method\n\t     * @name getPk\n\t     * @memberof ndoo\n\t     * @param prefix {string} 前缀\n\t     * @return {string} 键名\n\t     */\n\t    Ndoo.prototype.getPk = function (prefix) {\n\t        if (prefix === void 0) { prefix = ''; }\n\t        return \"\" + prefix + ++this._pk;\n\t    };\n\t    /**\n\t     * 设置加载器\n\t     *\n\t     * @method\n\t     * @name setLoader\n\t     * @memberof ndoo\n\t     * @param type {string} 加载器类型\n\t     * @param loader {Function} 加载器回调函数\n\t     */\n\t    Ndoo.prototype.setLoader = function (type, loader) {\n\t        this._loader[type] = type + \"Loader\";\n\t        this._loader[(type + \"Loader\")] = loader;\n\t    };\n\t    /**\n\t     * 依赖加载方法\n\t     *\n\t     * @method\n\t     * @name require\n\t     * @memberof ndoo\n\t     * @param depend {array} 依赖\n\t     * @param callback {Function} 架设函数\n\t     * @param type {string} 加载器类型 app/block/service\n\t     */\n\t    Ndoo.prototype.require = function (depend, callback, type) {\n\t        type = type.toLowerCase();\n\t        if (this._loader[(type + \"Loader\")]) {\n\t            this[type](depend, callback);\n\t        }\n\t        else {\n\t            throw new Error('require load is not define');\n\t        }\n\t    };\n\t    Ndoo.prototype._block = function (base, ns, name, block) {\n\t        var data;\n\t        var nsArr;\n\t        if (base == 'block' || base == 'app' || base == 'service') {\n\t            data = this._blockData[(\"_\" + base)];\n\t        }\n\t        else {\n\t            return false;\n\t        }\n\t        if (ns) {\n\t            nsArr = ns.replace(/^[/.]|[/.]$/g, '').split(/[/.]/);\n\t        }\n\t        else {\n\t            nsArr = [];\n\t        }\n\t        var temp = data;\n\t        var result;\n\t        var success;\n\t        if (block || arguments.length > 3) {\n\t            for (var _i = 0, nsArr_1 = nsArr; _i < nsArr_1.length; _i++) {\n\t                var ns_1 = nsArr_1[_i];\n\t                temp = temp[ns_1] || (temp[ns_1] = {});\n\t            }\n\t            // app/block只允许真值\n\t            if (block && (base === 'app' || base === 'block')) {\n\t                if (typeof block === 'object') {\n\t                    if (base === 'app' && temp[name]) {\n\t                        result = this._lib.defaults(temp[name], block);\n\t                    }\n\t                    else {\n\t                        result = temp[name] = block;\n\t                    }\n\t                }\n\t                else if (typeof block === 'function') {\n\t                    result = temp[name] = block;\n\t                }\n\t                else {\n\t                    result = false;\n\t                }\n\t            }\n\t            else if (base == 'service') {\n\t                result = temp[name] = block;\n\t                success = true;\n\t            }\n\t            else {\n\t                result = false;\n\t            }\n\t            if (result || success) {\n\t                if (ns) {\n\t                    this._blockData._exist[(base + \".\" + ns + \".\" + name)] = true;\n\t                }\n\t                else {\n\t                    this._blockData._exist[(base + \".\" + name)] = true;\n\t                }\n\t            }\n\t            return result;\n\t        }\n\t        else {\n\t            for (var _a = 0, nsArr_2 = nsArr; _a < nsArr_2.length; _a++) {\n\t                var ns_2 = nsArr_2[_a];\n\t                if (!this._lib.has(temp, ns_2)) {\n\t                    return undefined;\n\t                }\n\t                temp = temp[ns_2];\n\t            }\n\t            return temp[name];\n\t        }\n\t    };\n\t    /**\n\t     * 检测是否存在指定app\n\t     *\n\t     * @method\n\t     * @name hasApp\n\t     * @memberof ndoo\n\t     * @param {string} namespace 名称空间\n\t     * @return {boolean} 是否在存指定的app\n\t     */\n\t    Ndoo.prototype.hasApp = function (ns) {\n\t        return this._blockData._exist[(\"app.\" + ns)];\n\t    };\n\t    /**\n\t     * 标识指定app已存在\n\t     *\n\t     * @method\n\t     * @name setApp\n\t     * @memberof ndoo\n\t     * @param {string} namespace 名称空间\n\t     */\n\t    Ndoo.prototype.setApp = function (ns) {\n\t        return this._blockData._exist[(\"app.\" + ns)] = true;\n\t    };\n\t    /**\n\t     * 添加app实现\n\t     *\n\t     * @method\n\t     * @name app\n\t     * @memberof ndoo\n\t     * @param {string} namespace 名称空间\n\t     * @param {object} controller 控制器\n\t     */\n\t    Ndoo.prototype.app = function (ns, app) {\n\t        var nsmatch = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n\t        var appName;\n\t        if (!nsmatch) {\n\t            nsmatch = [, null, ns];\n\t        }\n\t        ns = nsmatch[1], appName = nsmatch[2];\n\t        if (arguments.length > 1) {\n\t            return this._block('app', ns, appName, app);\n\t        }\n\t        else {\n\t            return this._block('app', ns, appName);\n\t        }\n\t    };\n\t    /**\n\t     * 检测是否存在指定block\n\t     *\n\t     * @private\n\t     * @param {string} ns 名称空间\n\t     * @param {set} boolean 是否标记block已存在\n\t     * @return {boolean} 返加block标记\n\t     */\n\t    Ndoo.prototype._blockExist = function (ns, set) {\n\t        if (set === void 0) { set = false; }\n\t        var nsmatch = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n\t        var name;\n\t        if (!nsmatch) {\n\t            nsmatch = [, '_default', ns];\n\t        }\n\t        ns = nsmatch[1], name = nsmatch[2];\n\t        if (set) {\n\t            return this._blockData._exist[(\"block.\" + ns + \".\" + name)] = true;\n\t        }\n\t        else {\n\t            return this._blockData._exist[(\"block.\" + ns + \".\" + name)];\n\t        }\n\t    };\n\t    /**\n\t     * 检测是否存在指定block\n\t     *\n\t     * @method\n\t     * @name hasBlock\n\t     * @memberof ndoo\n\t     * @param {string} ns 名称空间\n\t     * @return {boolean} 判断block是否存在\n\t     */\n\t    Ndoo.prototype.hasBlock = function (ns) {\n\t        return this._blockExist(ns);\n\t    };\n\t    /**\n\t     * 标识指定block\n\t     *\n\t     * @method\n\t     * @name setBlock\n\t     * @memberof ndoo\n\t     * @param {string} namespace 名称空间\n\t     * @return {boolean} 设置标识成功\n\t     */\n\t    Ndoo.prototype.setBlock = function (ns) {\n\t        return this._blockExist(ns, true);\n\t    };\n\t    /**\n\t     * 添加block实现\n\t     *\n\t     * @method\n\t     * @name block\n\t     * @memberof ndoo\n\t     * @param {string} namespace 名称空间\n\t     * @param {(object|function)} block 模块实现\n\t     * @return {(boolean|object|function)} 是否成功|标识本身\n\t     */\n\t    Ndoo.prototype.block = function (ns, block) {\n\t        var nsmatch = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n\t        var name;\n\t        if (!nsmatch) {\n\t            nsmatch = [, 'default', ns];\n\t        }\n\t        ns = nsmatch[0], name = nsmatch[1];\n\t        if (arguments.length > 1) {\n\t            return this._block('block', ns, name, block);\n\t        }\n\t        else {\n\t            return this._block('block', ns, name);\n\t        }\n\t    };\n\t    /**\n\t     * 初始化模块\n\t     *\n\t     * @method\n\t     * @name initBlock\n\t     * @memberof ndoo\n\t     * @param {DOMElement} elem 初始化的元素\n\t     */\n\t    Ndoo.prototype.initBlock = function (elem) {\n\t        var _this = this;\n\t        var _a = this, _lib = _a._lib, router = _a.router;\n\t        var blockId = _lib.data(elem, 'nblockId');\n\t        blockId = blockId.split(/\\s*,\\s*|\\s+/);\n\t        var _call = function (blockId) {\n\t            router.parse(/^(?:\\/?)(.*?)(?:\\/?([^\\/?#]+))(?:\\?(.*?))?(?:\\#(.*?))?$/, blockId, function (ns, blockName, params) {\n\t                ns = ns.replace(/\\//g, '.');\n\t                var pkg = ns + \".\" + blockName;\n\t                if (_this.block(pkg)) {\n\t                    _this.trigger('NBLOCK_LOADED', elem, ns, blockName, params);\n\t                }\n\t                else if (_this.hasBlock(pkg)) {\n\t                    _this.require([(ns + \".\" + blockName)], function () {\n\t                        _this.trigger('NBLOCK_LOADED', elem, ns, blockName, params);\n\t                    }, _this._loader['block']);\n\t                }\n\t            });\n\t        };\n\t        _lib.each(blockId, function (id) {\n\t            var _self = _this;\n\t            _call.call(_self, id);\n\t        });\n\t    };\n\t    Ndoo.prototype._bindBlockEvent = function () {\n\t        var _this = this;\n\t        this.on('NBLOCK_LOADED', function (elem, ns, name, params) {\n\t            ns == null && (ns = '_default');\n\t            var block = _this.block(ns + \".\" + name);\n\t            if (block) {\n\t                if (_this._lib.isFunction(block.init)) {\n\t                    var call = function () {\n\t                        block.init(elem, params);\n\t                    };\n\t                    if (block.depend) {\n\t                        _this.require([].concat(block.depend), call, _this._loader['block']);\n\t                    }\n\t                    else {\n\t                        call();\n\t                    }\n\t                }\n\t                else if (_this._lib.isFunction(block)) {\n\t                    block(elem, params);\n\t                }\n\t            }\n\t        });\n\t        this.on('NBLOCK_INIT', function () {\n\t            var blockEl = _this._lib.querySelector('[data-nblock-id]');\n\t            if (!blockEl || !blockEl.length) {\n\t                return;\n\t            }\n\t            var blocks = [];\n\t            for (var _i = 0, blockEl_1 = blockEl; _i < blockEl_1.length; _i++) {\n\t                var el = blockEl_1[_i];\n\t                var auto = _this._lib.data(el, 'nblockAuto');\n\t                var level = parseInt(_this._lib.data(el, 'nblockLevel')) || 5;\n\t                blocks.push([level, auto, el]);\n\t            }\n\t            blocks = blocks.sort(function (block1, block2) { return block1[0] - block2[0]; });\n\t            for (var _a = 0, blocks_1 = blocks; _a < blocks_1.length; _a++) {\n\t                var item = blocks_1[_a];\n\t                var auto = item[1], block = item[2];\n\t                if (auto === undefined || auto.toString() != 'false') {\n\t                    _this.initBlock(block);\n\t                }\n\t            }\n\t        });\n\t    };\n\t    /**\n\t     * 添加/获取serivce\n\t     *\n\t     * @method\n\t     * @name service\n\t     * @memberof ndoo\n\t     * @param {string}   namespace 名称空间\n\t     * @param {variable} service 对象\n\t     * @example var _n = ndoo;\n\t     * _n.service('user', {\n\t     *   hasSignin: function(){\n\t     *     return false;\n\t     *   }\n\t     * });\n\t     * user = _n.service('user');\n\t     * console.log(user.hasSignin());\n\t     */\n\t    Ndoo.prototype.service = function (ns, service) {\n\t        var nsmatch = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n\t        var name;\n\t        if (!nsmatch) {\n\t            nsmatch = [, '_default', ns];\n\t        }\n\t        ns = nsmatch[1], name = nsmatch[2];\n\t        if (arguments.length > 1) {\n\t            return this._block('service', ns, name, service);\n\t        }\n\t        else {\n\t            service = this._block('service', ns, name);\n\t            if (service && this._lib.isFunction(service.init)) {\n\t                return service.init();\n\t            }\n\t            else {\n\t                return service;\n\t            }\n\t        }\n\t    };\n\t    /**\n\t     * 路由函数\n\t     *\n\t     * @private\n\t     * @method\n\t     * @name dispatch\n\t     * @memberof ndoo\n\t     */\n\t    Ndoo.prototype.dispatch = function () {\n\t        var _this = this;\n\t        var _lib = this._lib;\n\t        var filterHaldner = function (type, controller, actionName, params) {\n\t            var data;\n\t            var _lib = _this._lib;\n\t            if (type === 'before') {\n\t                data = controller.before;\n\t            }\n\t            else if (type === 'after') {\n\t                data = controller.after;\n\t            }\n\t            if (!data) {\n\t                return;\n\t            }\n\t            var _data;\n\t            if (typeof data === 'object') {\n\t                _data = [].concat(data);\n\t            }\n\t            for (var _i = 0, _data_1 = _data; _i < _data_1.length; _i++) {\n\t                var dataItem = _data_1[_i];\n\t                var _filter = dataItem.filter;\n\t                if (!_lib.isArray(_filter)) {\n\t                    _filter = [].concat(_filter.split(/\\s*,\\s*|\\s+/));\n\t                }\n\t                var isRun = true;\n\t                if (dataItem.only) {\n\t                    var _only = dataItem.only;\n\t                    if (!_lib.isArray(_only)) {\n\t                        _only = [].concat(_only.split(/\\s*,\\s*|\\s+/));\n\t                    }\n\t                    if (_lib.indexOf(_only, actionName) < 0) {\n\t                        isRun = false;\n\t                    }\n\t                }\n\t                else if (dataItem.except) {\n\t                    var _except = dataItem.except;\n\t                    if (!_lib.isArray(_except)) {\n\t                        _except = [].concat(_except.split(/\\s*,\\s*|\\s+/));\n\t                    }\n\t                    if (_lib.indexOf(_except, actionName) > -1) {\n\t                        isRun = false;\n\t                    }\n\t                }\n\t                if (isRun) {\n\t                    for (var _a = 0, _filter_1 = _filter; _a < _filter_1.length; _a++) {\n\t                        var filter = _filter_1[_a];\n\t                        controller[(filter + \"Filter\")](actionName, params);\n\t                    }\n\t                }\n\t            }\n\t        };\n\t        this.on('NAPP_ACTION_BEFORE', function () {\n\t            var data = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                data[_i - 0] = arguments[_i];\n\t            }\n\t            return filterHaldner.apply(null, ['before'].concat(data));\n\t        });\n\t        this.on('NAPP_ACTION_AFTER', function () {\n\t            var data = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                data[_i - 0] = arguments[_i];\n\t            }\n\t            return filterHaldner.apply(null, ['after'].concat(data));\n\t        });\n\t        this.on('NAPP_LOADED', function (ns, appName, actionName, params) {\n\t            var appData;\n\t            var _self = _this;\n\t            if (ns) {\n\t                appData = _this.app(ns + \".\" + appName);\n\t            }\n\t            else {\n\t                appData = _this.app(appName);\n\t            }\n\t            if (!_lib.has(appData, actionName + \"Action\")\n\t                && _lib.has(appData, 'emptyAction')) {\n\t                actionName = '_empty';\n\t            }\n\t            var depend = [];\n\t            if (appData['depend']) {\n\t                depend = depend.concat(appData['depend']);\n\t            }\n\t            if (appData[(actionName + \"Depend\")]) {\n\t                depend = depend.concat(appData[(actionName + \"Depend\")]);\n\t            }\n\t            var filterPrefix = appName;\n\t            if (ns) {\n\t                filterPrefix = (ns + \".\" + appName).replace(/\\./g, '_');\n\t            }\n\t            filterPrefix = filterPrefix.toUpperCase();\n\t            var run = function () {\n\t                var args = [].slice.call(arguments, 0);\n\t                args.unshift(params);\n\t                if (actionName) {\n\t                    _self.trigger('NAPP_ACTION_BEFORE', appData, actionName, params);\n\t                    _self.trigger(\"NAPP_\" + filterPrefix + \"_ACTION_BEFORE\", appData, actionName, params);\n\t                    if (appData[(actionName + \"Before\")]) {\n\t                        appData[(actionName + \"Before\")].apply(appData, args);\n\t                    }\n\t                    if (appData[(actionName + \"Action\")]) {\n\t                        appData[(actionName + \"Action\")].apply(appData, args);\n\t                    }\n\t                    if (appData[(actionName + \"After\")]) {\n\t                        appData[(actionName + \"After\")].apply(appData, args);\n\t                    }\n\t                    _self.trigger(\"NAPP_\" + filterPrefix + \"_ACTION_AFTER\", appData, actionName, params);\n\t                    _self.trigger('NAPP_ACTION_AFTER', appData, actionName, params);\n\t                }\n\t                _self.trigger('STATUS:NBLOCK_INIT');\n\t            };\n\t            if (depend.length) {\n\t                _this.require(_lib.uniq(depend), run, _this._loader['app']);\n\t            }\n\t            else {\n\t                run();\n\t            }\n\t        });\n\t        this.on('PAGE_STATUS_ROUTING', function (data) {\n\t            _this.router.parse(/^(?:\\/?)(.*?)(?:\\/?([^\\/?#]+))(?:\\?(.*?))?(?:\\#(.*?))?$/, data, function (appName, actionName, params) {\n\t                var nsmatch = appName.match(/(.*?)(?:[/.]([^/.]+))$/);\n\t                var ns = '';\n\t                if (nsmatch) {\n\t                    ns = nsmatch[1], appName = nsmatch[2];\n\t                }\n\t                var pkg;\n\t                if (ns) {\n\t                    ns = ns.replace(/\\//g, '.');\n\t                    pkg = ns + \".\" + appName;\n\t                }\n\t                else {\n\t                    pkg = appName;\n\t                }\n\t                if (_this.app(pkg)) {\n\t                    _this.trigger('NAPP_LOADED', ns, appName, actionName, params);\n\t                }\n\t                else if (_this.hasApp(pkg)) {\n\t                    _this.require([pkg], function () {\n\t                        this.trigger('NAPP_LOADED', ns, appName, actionName, params);\n\t                    }, _this._loader['app']);\n\t                }\n\t                else {\n\t                    _this.trigger('STATUS:NBLOCK_INIT');\n\t                }\n\t            });\n\t        });\n\t    };\n\t    /**\n\t     * 触发页面状态\n\t     *\n\t     * @private\n\t     * @method\n\t     * @name triggerPageStatus\n\t     * @memberof ndoo\n\t     * @param depend {string|array} 赖数组\n\t     */\n\t    Ndoo.prototype.triggerPageStatus = function (depend) {\n\t        var _this = this;\n\t        var _lib = this._lib;\n\t        var call = function () {\n\t            _this.trigger('STATUS:PAGE_STATUS_FAST');\n\t            _lib.onready(function () {\n\t                _this.trigger('STATUS:PAGE_STATUS_DOMPREP');\n\t                _this.trigger('STATUS:PAGE_STATUS_DOM');\n\t                _this.trigger('STATUS:PAGE_STATUS_DOMORLOAD');\n\t            });\n\t            _lib.onload(function () {\n\t                _this.trigger('STATUS:PAGE_STATUS_LOAD');\n\t            });\n\t            _this.on('PAGE_STATUS_DOM', function () {\n\t                if (_this.pageId) {\n\t                    _this.trigger('STATUS:PAGE_STATUS_ROUTING', _this.pageId);\n\t                }\n\t            });\n\t        };\n\t        depend ? this.require([].concat(depend), call, this._loader['init']) : call();\n\t    };\n\t    /**\n\t     * 初始化页面\n\t     *\n\t     * @method\n\t     * @name init\n\t     * @memberof ndoo\n\t     * @param {string} id DOM的ID或指定ID\n\t     * @param {array} depend 依赖\n\t     * @example // ndoo alias _n\n\t     * _n.init('home/index')\n\t     * // set depend\n\t     * _n.init('home/index', ['library', 'common'])\n\t     */\n\t    Ndoo.prototype.init = function (id, depend) {\n\t        var _lib = this._lib;\n\t        if (_lib.isArray(id)) {\n\t            _a = ['', id], id = _a[0], depend = _a[1];\n\t        }\n\t        this.initPageId(id);\n\t        this.dispatch();\n\t        this.triggerPageStatus(depend);\n\t        return this;\n\t        var _a;\n\t    };\n\t    Ndoo.prototype._rebuildEvent = function () {\n\t        var _lib = this._lib;\n\t        var eventHandle = _lib.extend({\n\t            events: {},\n\t            listened: {}\n\t        }, _lib.Events);\n\t        this.event = _lib.extend(this.event, {\n\t            eventHandle: eventHandle,\n\t            on: function (eventName, callback) {\n\t                var eventHandle = this.eventHandle;\n\t                eventHandle.on(eventName, callback);\n\t                eventHandle.listened[eventName] = true;\n\t                if (_lib.has(eventHandle.events, \"STATUS:\" + eventName)) {\n\t                    callback.apply(eventHandle, eventHandle.events[(\"STATUS:\" + eventName)]);\n\t                }\n\t                if (_lib.has(eventHandle.events, eventName)) {\n\t                    for (var _i = 0, _a = eventHandle.events[eventName]; _i < _a.length; _i++) {\n\t                        var item = _a[_i];\n\t                        callback.apply(eventHandle, item);\n\t                    }\n\t                }\n\t            },\n\t            trigger: function (eventName, eventType, data) {\n\t                var eventHandle = this.eventHandle;\n\t                if (eventType === 'DEFAULT') {\n\t                    eventHandle.trigger.apply(eventHandle, [eventName].concat(data));\n\t                }\n\t                else if (eventType === 'DELAY') {\n\t                    if (_lib.has(eventHandle.listened, eventName)) {\n\t                        eventHandle.trigger.apply(eventHandle, [eventName].concat(data));\n\t                    }\n\t                    if (!_lib.has(eventHandle.events, eventName)) {\n\t                        eventHandle.events[eventName] = [];\n\t                    }\n\t                    eventHandle.events[eventName].push(data);\n\t                }\n\t                else if (eventType === 'STATUS') {\n\t                    if (!_lib.has(eventHandle.events, eventType + \":\" + eventName)) {\n\t                        eventHandle.events[(eventType + \":\" + eventName)] = data;\n\t                        if (_lib.has(eventHandle.listened, eventName)) {\n\t                            eventHandle.trigger.apply(eventHandle, [eventName].concat(data));\n\t                        }\n\t                    }\n\t                }\n\t            },\n\t            off: function (eventName) {\n\t                var eventHandle = this.eventHandle;\n\t                eventHandle.off(eventName);\n\t                delete eventHandle.listened[eventName];\n\t                delete eventHandle.events[eventName];\n\t            },\n\t            init: function () {\n\t                var _a = this, inited = _a.inited, _temp = _a._temp, TYPE_ON = _a.TYPE_ON, TYPE_TRIGGER = _a.TYPE_TRIGGER;\n\t                if (!inited && _temp.length) {\n\t                    for (var _i = 0, _temp_1 = _temp; _i < _temp_1.length; _i++) {\n\t                        var item = _temp_1[_i];\n\t                        if (item.type === TYPE_ON) {\n\t                            this.on(item.eventName, item.callback);\n\t                        }\n\t                        else if (item.type === TYPE_TRIGGER) {\n\t                            this.trigger(item.eventName, item.eventTYpe, item.data);\n\t                        }\n\t                    }\n\t                    inited = true;\n\t                }\n\t            }\n\t        });\n\t    };\n\t    return Ndoo;\n\t}(prep_1.Prep));\n\texports.Ndoo = Ndoo;\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar api_1 = __webpack_require__(4);\n\tvar basic_1 = __webpack_require__(5);\n\tvar prepData_1 = __webpack_require__(6);\n\tvar prepData = prepData_1.getPrepData();\n\t/**\n\t * ndoojs 全局名称空间，短名称N\n\t *\n\t * @namespace ndoo\n\t */\n\tvar Prep = (function (_super) {\n\t    __extends(Prep, _super);\n\t    function Prep() {\n\t        _super.call(this);\n\t        this.event = basic_1.EventBasic;\n\t        /**\n\t         * 变量存储名称空间\n\t         *\n\t         * @namespace\n\t         * @name vars\n\t         * @alias _vars\n\t         * @memberof ndoo\n\t         * @type {object}\n\t         * @example // alias _vars\n\t         * var _vars = ndoo.vars;\n\t         * vars.bar = 'bar';\n\t         */\n\t        this.vars = {};\n\t        /**\n\t         * 函数存储名称空间\n\t         *\n\t         * @namespace\n\t         * @name func\n\t         * @memberof ndoo\n\t         * @type {object}\n\t         * @example // alias _func\n\t         * var _func = ndoo.func;\n\t         * _func.foo = function() {\n\t         *   console.log('foo');\n\t         * }\n\t         */\n\t        this.func = {};\n\t        /**\n\t         * 依赖库存储空间\n\t         */\n\t        this._lib = {};\n\t        if (prepData) {\n\t            this.vars = prepData.vars;\n\t            this.func = prepData.func;\n\t        }\n\t    }\n\t    return Prep;\n\t}(api_1.EventApi));\n\texports.Prep = Prep;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar EventApi = (function () {\n\t    function EventApi() {\n\t    }\n\t    /**\n\t     * global on\n\t     *\n\t     * @method\n\t     * @name on\n\t     * @memberof ndoo\n\t     * @param {string} eventName 事件名称\n\t     * @param {function} callback 事件回调\n\t     * @example // ndoo alias _n\n\t     * var _n = ndoo;\n\t     * _n.on('testEvent', function(data, data2){\n\t     *   console.log(data);\n\t     *   console.log(data2);\n\t     * });\n\t     * _n.trigger('testEvent', 'testEvent', 'kkk');\n\t     */\n\t    EventApi.prototype.on = function (eventName, callback) {\n\t        eventName = eventName.split(/\\s*,\\s*|\\s+/);\n\t        for (var _i = 0, _a = eventName; _i < _a.length; _i++) {\n\t            var e = _a[_i];\n\t            this.event.on(e, callback);\n\t        }\n\t    };\n\t    /**\n\t     * global trigger\n\t     *\n\t     * @method\n\t     * @name trigger\n\t     * @memberof ndoo\n\t     * @param {string} eventName 事件名称\n\t     * @param {variable} data 数据，可以是多个\n\t     */\n\t    EventApi.prototype.trigger = function (eventName) {\n\t        var data = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            data[_i - 1] = arguments[_i];\n\t        }\n\t        var _index = eventName.indexOf(':');\n\t        var type = eventName.substring(0, _index++) || 'DEFAULT';\n\t        var e = eventName.substring(_index);\n\t        this.event.trigger(e, type, data);\n\t    };\n\t    /**\n\t     * global off\n\t     *\n\t     * @method\n\t     * @name off\n\t     * @memberof ndoo\n\t     * @param {string} eventName 事件名称\n\t     */\n\t    EventApi.prototype.off = function (eventName) {\n\t        eventName = eventName.split(/\\s*,\\s*|\\s+/);\n\t        for (var _i = 0, _a = eventName; _i < _a.length; _i++) {\n\t            var e = _a[_i];\n\t            this.event.off(e);\n\t        }\n\t    };\n\t    return EventApi;\n\t}());\n\texports.EventApi = EventApi;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar prepData_1 = __webpack_require__(6);\n\tvar prepData = prepData_1.getPrepData();\n\t/**\n\t * 事件模块\n\t *\n\t * @namespace\n\t * @name event\n\t * @memberof ndoo\n\t * @param {string} name 事件名称\n\t * @param {string} type 事件类型\n\t */\n\tvar EventBasic = (function () {\n\t    function EventBasic(name, type) {\n\t        return \"#\" + name + \":#\" + type;\n\t    }\n\t    /**\n\t     * on api\n\t     *\n\t     * @method\n\t     * @name on\n\t     * @memberof ndoo.event\n\t     * @param {string} eventName 事件名称\n\t     * @param {function} callback 回调函数\n\t     */\n\t    EventBasic.on = function (eventName, callback) {\n\t        this._temp.push({\n\t            type: this.TYPE_ON,\n\t            eventName: eventName, callback: callback\n\t        });\n\t    };\n\t    /**\n\t     * trigger api\n\t     *\n\t     * @method\n\t     * @name trigger\n\t     * @memberof ndoo.event\n\t     * @param eventName {string} 事件名称\n\t     * @param eventType {string} 事件类型\n\t     * @param data {variable} 数据类型\n\t     */\n\t    EventBasic.trigger = function (eventName, eventType, data) {\n\t        this._temp.push({\n\t            type: this.TYPE_TRIGGER,\n\t            eventName: eventName, eventType: eventType, data: data\n\t        });\n\t    };\n\t    /**\n\t     * off api\n\t     *\n\t     * @method\n\t     * @name off\n\t     * @memberof ndoo.event\n\t     * @param eventName {string}\n\t     */\n\t    EventBasic.off = function (eventName) { };\n\t    EventBasic.init = function () { };\n\t    /**\n\t     * 暂存数据类型\n\t     *\n\t     * @name TYPE_ON\n\t     * @memberof ndoo.event\n\t     * @type {number}\n\t     */\n\t    EventBasic.TYPE_ON = 1;\n\t    /**\n\t     * 暂存数据类型\n\t     *\n\t     * @name TYPE_TRIGGER\n\t     * @memberof ndoo.event\n\t     * @type {number}\n\t     */\n\t    EventBasic.TYPE_TRIGGER = 2;\n\t    /**\n\t     * init token\n\t     *\n\t     * @name inited\n\t     * @memberof ndoo.event\n\t     * @type {boolean}\n\t     */\n\t    EventBasic.inited = false;\n\t    /**\n\t     * event stack\n\t     *\n\t     * @private\n\t     * @name _temp\n\t     * @memberof ndoo.event\n\t     * @type {array}\n\t     */\n\t    EventBasic._temp = prepData ? prepData.eventData : [];\n\t    return EventBasic;\n\t}());\n\texports.EventBasic = EventBasic;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\texports.getPrepData = function () {\n\t    if (typeof window != 'undefined' && window['ndoo_prep_data']) {\n\t        return window['ndoo_prep_data'];\n\t    }\n\t    return false;\n\t};\n\texports.setPrepData = function () {\n\t    var _self = {};\n\t    if (typeof window != 'undefined') {\n\t        _self = window;\n\t    }\n\t    if (!_self.ndoo_prep_data) {\n\t        _self.ndoo_prep_data = {\n\t            eventData: [],\n\t            func: {},\n\t            vars: {}\n\t        };\n\t    }\n\t};\n\texports.removePrepData = function () {\n\t    if (typeof window != 'undefined' && window['ndoo_prep_data']) {\n\t        delete window['ndoo_prep_data'];\n\t    }\n\t};\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/**\n\t * 变量存储\n\t *\n\t * @method\n\t * @name storage\n\t * @memberof ndoo\n\t * @param {string} key 键名\n\t * @param {variable} value 值\n\t * @param {const} option 选项，覆盖或删除\n\t * @example // alias _stor\n\t * var _stor = ndoo.storage;\n\t * // set abc vlaue 1\n\t * _stor('abc', 1); // 1\n\t * // set abc value 2 failed\n\t * _stor('abc', 2); // false\n\t * // set abc value 2\n\t * _stor('abc', 2, _stor.REWRITE); // 2\n\t * // delete abc\n\t * _stor('abc', null, _stor.DESTROY); // true\n\t */\n\tvar Storage = (function () {\n\t    function Storage(key, value, option) {\n\t        var _self = Storage;\n\t        var destroy = option & _self.DESTROY;\n\t        var rewrite = option & _self.REWRITE;\n\t        var data = _self._data;\n\t        if (value === undefined) {\n\t            return data[key];\n\t        }\n\t        if (destroy) {\n\t            delete data[key];\n\t            return true;\n\t        }\n\t        if (!rewrite && _self._lib.has(data, key)) {\n\t            return false;\n\t        }\n\t        return data[key] = value;\n\t    }\n\t    Storage._data = {};\n\t    /**\n\t     * storage重写常量\n\t     *\n\t     * @memberof ndoo.storage\n\t     */\n\t    Storage.REWRITE = 1;\n\t    /**\n\t     * storage删除常量\n\t     *\n\t     * @memberof ndoo.storage\n\t     */\n\t    Storage.DESTROY = 2;\n\t    return Storage;\n\t}());\n\texports.Storage = Storage;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/**\n\t * 内置路由通过正则配匹各部件\n\t *\n\t * @private\n\t * @namespace\n\t * @memberof ndoo\n\t * @type {object}\n\t */\n\tvar Router = (function () {\n\t    function Router() {\n\t    }\n\t    /**\n\t     * 路由解析方法\n\t     *\n\t     * @private\n\t     * @method\n\t     * @memberof ndoo.router\n\t     * @param route {RegExp} 路由正则\n\t     * @param url {string url路径\n\t     * @param callback {Function} 回调函数\n\t     */\n\t    Router.parse = function (route, url, callback) {\n\t        var routeMatch = route.exec(url);\n\t        if (routeMatch != null) {\n\t            callback.apply(null, routeMatch.slice(1));\n\t        }\n\t    };\n\t    return Router;\n\t}());\n\texports.Router = Router;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar _ = __webpack_require__(10);\n\tvar depend = __webpack_require__(11);\n\tvar event_1 = __webpack_require__(14);\n\texports._lib = _.extend({ Events: event_1.Events }, depend, _);\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/// <references src=\"../declare.d.ts\" />\n\tvar jquery = __webpack_require__(12);\n\tvar zepto = __webpack_require__(13);\n\tvar $ = jquery || zepto;\n\tvar depend = {};\n\tif ($) {\n\t    depend.onready = function (callback) {\n\t        $(callback);\n\t    };\n\t    depend.onload = function (callback) {\n\t        $(window).on('load', callback);\n\t    };\n\t    depend.querySelector = function (selector) {\n\t        $(selector).slice(0);\n\t    };\n\t    depend.data = function (elem, key, value) {\n\t        if (arguments.length === 2) {\n\t            return $(elem).data(key);\n\t        }\n\t        else if (arguments.length === 3) {\n\t            return $(elem).data(key, value);\n\t        }\n\t    };\n\t}\n\telse {\n\t    depend.onready = function (callback) {\n\t        document.addEventListener('DOMContentLoaded', callback, false);\n\t    };\n\t    depend.onload = function (callback) {\n\t        addEventListener('load', callback, false);\n\t    };\n\t    depend.querySelector = function (selector) {\n\t        document.querySelectorAll(selector);\n\t    };\n\t    depend.data = function (elem, key, value) {\n\t        if (!elem.dataset) {\n\t            key = key.replace(/([A-Z])/g, function (char) { return '-' + char.toLocaleLowerCase(); });\n\t        }\n\t        if (arguments.length === 2) {\n\t            if (elem.dataset) {\n\t                return elem.dataset[key];\n\t            }\n\t            else {\n\t                return elem.getAttribute(key);\n\t            }\n\t        }\n\t        else if (arguments.length === 3) {\n\t            if (elem.dataset) {\n\t                elem.dataset[key] = value;\n\t            }\n\t            else {\n\t                elem.setAttribute(key, value);\n\t            }\n\t        }\n\t    };\n\t}\n\texports.onready = depend.onready, exports.onload = depend.onload, exports.querySelector = depend.querySelector, exports.data = depend.data;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar _ = __webpack_require__(10);\n\tvar Backbone = __webpack_require__(15);\n\tvar Events = {};\n\texports.Events = Events;\n\tif (Backbone) {\n\t    exports.Events = Events = Backbone.Events;\n\t}\n\telse {\n\t    // Backbone.Events\n\t    // ---------------\n\t    // A module that can be mixed in to *any object* in order to provide it with\n\t    // a custom event channel. You may bind a callback to an event with 'on' or\n\t    // remove with 'off'; 'trigger'-ing an event fires all callbacks in\n\t    // succession.\n\t    //\n\t    //     var object = {};\n\t    //     _.extend(object, Backbone.Events);\n\t    //     object.on('expand', function(){ alert('expanded'); });\n\t    //     object.trigger('expand');\n\t    //\n\t    // var Events: any = {};\n\t    // Regular expression used to split event strings.\n\t    var eventSplitter = /\\s+/;\n\t    // Iterates over the standard 'event, callback' (as well as the fancy multiple\n\t    // space-separated events '\"change blur\", callback' and jQuery-style event\n\t    // maps '{event: callback}').\n\t    var eventsApi = function (iteratee, events, name, callback, opts) {\n\t        var i = 0, names;\n\t        if (name && typeof name === 'object') {\n\t            // Handle event maps.\n\t            if (callback !== void 0 && 'context' in opts && opts.context === void 0)\n\t                opts.context = callback;\n\t            for (names = _.keys(name); i < names.length; i++) {\n\t                events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n\t            }\n\t        }\n\t        else if (name && eventSplitter.test(name)) {\n\t            // Handle space separated event names by delegating them individually.\n\t            for (names = name.split(eventSplitter); i < names.length; i++) {\n\t                events = iteratee(events, names[i], callback, opts);\n\t            }\n\t        }\n\t        else {\n\t            // Finally, standard events.\n\t            events = iteratee(events, name, callback, opts);\n\t        }\n\t        return events;\n\t    };\n\t    // Bind an event to a 'callback' function. Passing '\"all\"' will bind\n\t    // the callback to all events fired.\n\t    Events.on = function (name, callback, context) {\n\t        return internalOn(this, name, callback, context);\n\t    };\n\t    // Guard the 'listening' argument from the public API.\n\t    var internalOn = function (obj, name, callback, context, listening) {\n\t        obj._events = eventsApi(onApi, obj._events || {}, name, callback, {\n\t            context: context,\n\t            ctx: obj,\n\t            listening: listening\n\t        });\n\t        if (listening) {\n\t            var listeners = obj._listeners || (obj._listeners = {});\n\t            listeners[listening.id] = listening;\n\t        }\n\t        return obj;\n\t    };\n\t    // Inversion-of-control versions of 'on'. Tell *this* object to listen to\n\t    // an event in another object... keeping track of what it's listening to\n\t    // for easier unbinding later.\n\t    Events.listenTo = function (obj, name, callback) {\n\t        if (!obj)\n\t            return this;\n\t        var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n\t        var listeningTo = this._listeningTo || (this._listeningTo = {});\n\t        var listening = listeningTo[id];\n\t        // This object is not listening to any other events on 'obj' yet.\n\t        // Setup the necessary references to track the listening callbacks.\n\t        if (!listening) {\n\t            var thisId = this._listenId || (this._listenId = _.uniqueId('l'));\n\t            listening = listeningTo[id] = { obj: obj, objId: id, id: thisId, listeningTo: listeningTo, count: 0 };\n\t        }\n\t        // Bind callbacks on obj, and keep track of them on listening.\n\t        internalOn(obj, name, callback, this, listening);\n\t        return this;\n\t    };\n\t    // The reducing API that adds a callback to the 'events' object.\n\t    var onApi = function (events, name, callback, options) {\n\t        if (callback) {\n\t            var handlers = events[name] || (events[name] = []);\n\t            var context = options.context, ctx = options.ctx, listening = options.listening;\n\t            if (listening)\n\t                listening.count++;\n\t            handlers.push({ callback: callback, context: context, ctx: context || ctx, listening: listening });\n\t        }\n\t        return events;\n\t    };\n\t    // Remove one or many callbacks. If 'context' is null, removes all\n\t    // callbacks with that function. If 'callback' is null, removes all\n\t    // callbacks for the event. If 'name' is null, removes all bound\n\t    // callbacks for all events.\n\t    Events.off = function (name, callback, context) {\n\t        if (!this._events)\n\t            return this;\n\t        this._events = eventsApi(offApi, this._events, name, callback, {\n\t            context: context,\n\t            listeners: this._listeners\n\t        });\n\t        return this;\n\t    };\n\t    // Tell this object to stop listening to either specific events ... or\n\t    // to every object it's currently listening to.\n\t    Events.stopListening = function (obj, name, callback) {\n\t        var listeningTo = this._listeningTo;\n\t        if (!listeningTo)\n\t            return this;\n\t        var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\t        for (var i = 0; i < ids.length; i++) {\n\t            var listening = listeningTo[ids[i]];\n\t            // If listening doesn't exist, this object is not currently\n\t            // listening to obj. Break out early.\n\t            if (!listening)\n\t                break;\n\t            listening.obj.off(name, callback, this);\n\t        }\n\t        if (_.isEmpty(listeningTo))\n\t            this._listeningTo = void 0;\n\t        return this;\n\t    };\n\t    // The reducing API that removes a callback from the 'events' object.\n\t    var offApi = function (events, name, callback, options) {\n\t        if (!events)\n\t            return;\n\t        var i = 0, listening;\n\t        var context = options.context, listeners = options.listeners;\n\t        // Delete all events listeners and \"drop\" events.\n\t        if (!name && !callback && !context) {\n\t            var ids = _.keys(listeners);\n\t            for (; i < ids.length; i++) {\n\t                listening = listeners[ids[i]];\n\t                delete listeners[listening.id];\n\t                delete listening.listeningTo[listening.objId];\n\t            }\n\t            return;\n\t        }\n\t        var names = name ? [name] : _.keys(events);\n\t        for (; i < names.length; i++) {\n\t            name = names[i];\n\t            var handlers = events[name];\n\t            // Bail out if there are no events stored.\n\t            if (!handlers)\n\t                break;\n\t            // Replace events if there are any remaining.  Otherwise, clean up.\n\t            var remaining = [];\n\t            for (var j = 0; j < handlers.length; j++) {\n\t                var handler = handlers[j];\n\t                if (callback && callback !== handler.callback &&\n\t                    callback !== handler.callback._callback ||\n\t                    context && context !== handler.context) {\n\t                    remaining.push(handler);\n\t                }\n\t                else {\n\t                    listening = handler.listening;\n\t                    if (listening && --listening.count === 0) {\n\t                        delete listeners[listening.id];\n\t                        delete listening.listeningTo[listening.objId];\n\t                    }\n\t                }\n\t            }\n\t            // Update tail event if the list has any events.  Otherwise, clean up.\n\t            if (remaining.length) {\n\t                events[name] = remaining;\n\t            }\n\t            else {\n\t                delete events[name];\n\t            }\n\t        }\n\t        if (_.size(events))\n\t            return events;\n\t    };\n\t    // Bind an event to only be triggered a single time. After the first time\n\t    // the callback is invoked, its listener will be removed. If multiple events\n\t    // are passed in using the space-separated syntax, the handler will fire\n\t    // once for each event, not once for a combination of all events.\n\t    Events.once = function (name, callback, context) {\n\t        // Map the event into a '{event: once}' object.\n\t        var events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));\n\t        return this.on(events, void 0, context);\n\t    };\n\t    // Inversion-of-control versions of 'once'.\n\t    Events.listenToOnce = function (obj, name, callback) {\n\t        // Map the event into a '{event: once}' object.\n\t        var events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));\n\t        return this.listenTo(obj, events);\n\t    };\n\t    // Reduces the event callbacks into a map of '{event: onceWrapper}'.\n\t    // 'offer' unbinds the 'onceWrapper' after it has been called.\n\t    var onceMap = function (map, name, callback, offer) {\n\t        if (callback) {\n\t            var once = map[name] = _.once(function () {\n\t                offer(name, once);\n\t                callback.apply(this, arguments);\n\t            });\n\t            once._callback = callback;\n\t        }\n\t        return map;\n\t    };\n\t    // Trigger one or many events, firing all bound callbacks. Callbacks are\n\t    // passed the same arguments as 'trigger' is, apart from the event name\n\t    // (unless you're listening on '\"all\"', which will cause your callback to\n\t    // receive the true name of the event as the first argument).\n\t    Events.trigger = function (name) {\n\t        if (!this._events)\n\t            return this;\n\t        var length = Math.max(0, arguments.length - 1);\n\t        var args = Array(length);\n\t        for (var i = 0; i < length; i++)\n\t            args[i] = arguments[i + 1];\n\t        eventsApi(triggerApi, this._events, name, void 0, args);\n\t        return this;\n\t    };\n\t    // Handles triggering the appropriate event callbacks.\n\t    var triggerApi = function (objEvents, name, cb, args) {\n\t        if (objEvents) {\n\t            var events = objEvents[name];\n\t            var allEvents = objEvents.all;\n\t            if (events && allEvents)\n\t                allEvents = allEvents.slice();\n\t            if (events)\n\t                triggerEvents(events, args);\n\t            if (allEvents)\n\t                triggerEvents(allEvents, [name].concat(args));\n\t        }\n\t        return objEvents;\n\t    };\n\t    // A difficult-to-believe, but optimized internal dispatch function for\n\t    // triggering events. Tries to keep the usual cases speedy (most internal\n\t    // Backbone events have 3 arguments).\n\t    var triggerEvents = function (events, args) {\n\t        var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n\t        switch (args.length) {\n\t            case 0:\n\t                while (++i < l)\n\t                    (ev = events[i]).callback.call(ev.ctx);\n\t                return;\n\t            case 1:\n\t                while (++i < l)\n\t                    (ev = events[i]).callback.call(ev.ctx, a1);\n\t                return;\n\t            case 2:\n\t                while (++i < l)\n\t                    (ev = events[i]).callback.call(ev.ctx, a1, a2);\n\t                return;\n\t            case 3:\n\t                while (++i < l)\n\t                    (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n\t                return;\n\t            default:\n\t                while (++i < l)\n\t                    (ev = events[i]).callback.apply(ev.ctx, args);\n\t                return;\n\t        }\n\t    };\n\t    // Aliases for backwards compatibility.\n\t    Events.bind = Events.on;\n\t    Events.unbind = Events.off;\n\t}\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** dist/ndoo.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0ade3dbf8dbfdedb37f5\n **/","import { Ndoo } from './src/ndoo';\n\nexport = new Ndoo();\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/ndoo.ts\n **/","import { Prep } from './prep';\nimport { Storage } from './storage';\nimport { Router } from './router';\nimport { _lib as lib } from './lib';\nimport { getPrepData, removePrepData } from './prepData';\n\nlet prepData = getPrepData();\n\nexport class Ndoo extends Prep {\n  public _lib = lib;\n  /**\n   * page id\n   *\n   * @name pageId\n   * @memberof ndoo\n   * @type {string}\n   */\n  public pageId: string = '';\n  /**\n   * initPageId 初始化 pageId\n   *\n   * @private\n   * @name initPageId\n   * @memberof ndoo\n   */\n  public initPageId(id: string) {\n    if (this.pageId) {\n      return;\n    }\n    if (typeof document != 'undefined') {\n      let el = document.getElementById(id || 'scriptArea');\n      if (el) {\n        this.pageId = el.getAttribute('data-page-id') || '';\n      }\n      if (!this.pageId && id) {\n        this.pageId = id;\n      }\n    }\n  }\n  /**\n   * 内部_pk主键\n   * \n   * @private\n   * @name _pk\n   * @memberof ndoo\n   */\n  private _pk: number = +new Date();\n  /**\n   * 获取唯一key\n   *\n   * @method\n   * @name getPk\n   * @memberof ndoo\n   * @param prefix {string} 前缀\n   * @return {string} 键名\n   */\n  public getPk(prefix: string = '') {\n    return `${prefix}${++this._pk}`;\n  }\n  public storage: typeof Storage = Storage;\n  public router: typeof Router = Router;\n  private _loader = {\n    app: 'do',\n    block: 'do',\n    init: 'do',\n    appLoader: null,\n    blockLoader: null,\n    initLoader: null,\n    doLoader: function(depend: any[], callback: Function) {\n      Do.apply(null, depend.concat(callback));\n    },\n    seajsLoader: function(depend: any[], callback: Function) {\n      seajs.use(depend, callback);\n    }\n  };\n  /**\n   * 设置加载器\n   * \n   * @method\n   * @name setLoader\n   * @memberof ndoo\n   * @param type {string} 加载器类型\n   * @param loader {Function} 加载器回调函数\n   */\n  public setLoader(type: string, loader: Function) {\n    this._loader[type] = `${type}Loader`;\n    this._loader[`${type}Loader`] = loader;\n  }\n  /**\n   * 依赖加载方法\n   * \n   * @method\n   * @name require\n   * @memberof ndoo\n   * @param depend {array} 依赖\n   * @param callback {Function} 架设函数\n   * @param type {string} 加载器类型 app/block/service\n   */\n  public require(depend: any[], callback: Function, type: string): void {\n    type = type.toLowerCase();\n    if (this._loader[`${type}Loader`]) {\n      this[type](depend, callback);\n    }\n    else {\n      throw new Error('require load is not define');\n    }\n  }\n  public _blockData = {\n    _block: {},\n    _app: {},\n    _service: {},\n    _exist: {}\n  }\n  public _block(base: string, ns: string, name: string, block?: any) {\n    let data: any;\n    let nsArr: string[];\n    if (base == 'block' || base == 'app' || base == 'service') {\n      data = this._blockData[`_${base}`];\n    }\n    else {\n      return false;\n    }\n\n    if (ns) {\n      nsArr = ns.replace(/^[/.]|[/.]$/g, '').split(/[/.]/);\n    }\n    else {\n      nsArr = [];\n    }\n\n    let temp = data;\n    let result: any;\n    let success: boolean;\n    if (block || arguments.length > 3) {\n      for (let ns of nsArr) {\n        temp = temp[ns] || (temp[ns] = {});\n      }\n      // app/block只允许真值\n      if (block && (base === 'app' || base === 'block')) {\n        if (typeof block === 'object') {\n          if (base === 'app' && temp[name]) {\n            result = this._lib.defaults(temp[name], block);\n          }\n          else {\n            result = temp[name] = block;\n          }\n        }\n        else if (typeof block === 'function') {\n          result = temp[name] = block;\n        }\n        else {\n          result = false;\n        }\n      }\n      else if (base == 'service') {\n        result = temp[name] = block;\n        success = true;\n      }\n      else {\n        result = false;\n      }\n\n      if (result || success) {\n        if (ns) {\n          this._blockData._exist[`${base}.${ns}.${name}`] = true;\n        }\n        else {\n          this._blockData._exist[`${base}.${name}`] = true;\n        }\n      }\n\n      return result;\n    }\n    else {\n      for (let ns of nsArr) {\n        if (!this._lib.has(temp, ns)) {\n          return undefined;\n        }\n        temp = temp[ns];\n      }\n      return temp[name];\n    }\n  }\n  /**\n   * 检测是否存在指定app\n   *\n   * @method\n   * @name hasApp\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   * @return {boolean} 是否在存指定的app\n   */\n  hasApp(ns: string) {\n    return this._blockData._exist[`app.${ns}`]\n  }\n  /**\n   * 标识指定app已存在\n   *\n   * @method\n   * @name setApp\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   */\n  setApp(ns: string) {\n    return this._blockData._exist[`app.${ns}`] = true;\n  }\n  /**\n   * 添加app实现\n   *\n   * @method\n   * @name app\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   * @param {object} controller 控制器\n   */\n  app(ns: string, app?: any) {\n    let nsmatch = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n    let appName: string;\n    if (!nsmatch) {\n      nsmatch = [, null, ns]\n    }\n    [, ns, appName] = nsmatch;\n\n    if (arguments.length > 1) {\n      return this._block('app', ns, appName, app);\n    }\n    else {\n      return this._block('app', ns, appName);\n    }\n  }\n  /**\n   * 检测是否存在指定block\n   *\n   * @private\n   * @param {string} ns 名称空间\n   * @param {set} boolean 是否标记block已存在\n   * @return {boolean} 返加block标记\n   */\n  _blockExist(ns: string, set: boolean = false) {\n    let nsmatch: string[] = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n    let name: string;\n    if (!nsmatch) {\n      nsmatch = [, '_default', ns];\n\n    }\n    [, ns, name] = nsmatch;\n    if (set) {\n      return this._blockData._exist[`block.${ns}.${name}`] = true;\n    }\n    else {\n      return this._blockData._exist[`block.${ns}.${name}`]\n    }\n  }\n  /**\n   * 检测是否存在指定block\n   *\n   * @method\n   * @name hasBlock\n   * @memberof ndoo\n   * @param {string} ns 名称空间\n   * @return {boolean} 判断block是否存在\n   */\n  hasBlock(ns: string) {\n    return this._blockExist(ns);\n  }\n  /**\n   * 标识指定block\n   *\n   * @method\n   * @name setBlock\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   * @return {boolean} 设置标识成功\n   */\n  setBlock(ns: string) {\n    return this._blockExist(ns, true);\n  }\n  /**\n   * 添加block实现\n   *\n   * @method\n   * @name block\n   * @memberof ndoo\n   * @param {string} namespace 名称空间\n   * @param {(object|function)} block 模块实现\n   * @return {(boolean|object|function)} 是否成功|标识本身\n   */\n  block(ns: string, block?: any) {\n    let nsmatch: string[] = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n    let name: string;\n    if (!nsmatch) {\n      nsmatch = [, 'default', ns];\n    }\n    [ns, name] = nsmatch;\n    if (arguments.length > 1) {\n      return this._block('block', ns, name, block);\n    }\n    else {\n      return this._block('block', ns, name);\n    }\n  }\n  /**\n   * 初始化模块\n   *\n   * @method\n   * @name initBlock\n   * @memberof ndoo\n   * @param {DOMElement} elem 初始化的元素\n   */\n  initBlock(elem: HTMLElement) {\n    let {_lib, router} = this;\n    let blockId: string | string[] = _lib.data(elem, 'nblockId');\n    blockId = (<string>blockId).split(/\\s*,\\s*|\\s+/);\n\n    let _call = (blockId: string) => {\n      router.parse(\n        /^(?:\\/?)(.*?)(?:\\/?([^\\/?#]+))(?:\\?(.*?))?(?:\\#(.*?))?$/,\n        blockId, (ns: string, blockName: string, params: string) => {\n          ns = ns.replace(/\\//g, '.');\n          let pkg: string = `${ns}.${blockName}`;\n          if (this.block(pkg)) {\n            this.trigger('NBLOCK_LOADED', elem, ns, blockName, params);\n          }\n          else if (this.hasBlock(pkg)) {\n            this.require([`${ns}.${blockName}`], () => {\n              this.trigger('NBLOCK_LOADED', elem, ns, blockName, params);\n            }, this._loader['block']);\n          }\n        });\n    }\n    _lib.each(blockId, (id: string) => {\n      let _self = this;\n      _call.call(_self, id);\n    });\n  }\n  private _bindBlockEvent() {\n    this.on('NBLOCK_LOADED', (elem, ns, name, params) => {\n      ns == null && (ns = '_default');\n      let block = this.block(`${ns}.${name}`);\n      if (block) {\n        if (this._lib.isFunction(block.init)) {\n          let call = () => {\n            block.init(elem, params);\n          }\n\n          if (block.depend) {\n            this.require([].concat(block.depend), call, this._loader['block']);\n          }\n          else {\n            call();\n          }\n        }\n        else if (this._lib.isFunction(block)) {\n          block(elem, params);\n        }\n      }\n    });\n    this.on('NBLOCK_INIT', () => {\n      let blockEl = this._lib.querySelector('[data-nblock-id]');\n      if (!blockEl || !blockEl.length) {\n        return;\n      }\n      let blocks:any[] = [];\n      for (let el of blockEl) {\n        let auto = this._lib.data(el, 'nblockAuto');\n        let level = parseInt(this._lib.data(el, 'nblockLevel')) || 5;\n        blocks.push([level, auto, el]);\n      }\n      blocks = blocks.sort((block1: any, block2: any) => block1[0] - block2[0]);\n      for (let item of blocks) {\n        let [, auto, block] = item;\n        if (auto === undefined || auto.toString() != 'false') {\n          this.initBlock(block);\n        }\n      }\n    });\n  }\n  /**\n   * 添加/获取serivce\n   *\n   * @method\n   * @name service\n   * @memberof ndoo\n   * @param {string}   namespace 名称空间\n   * @param {variable} service 对象\n   * @example var _n = ndoo;\n   * _n.service('user', {\n   *   hasSignin: function(){\n   *     return false;\n   *   }\n   * });\n   * user = _n.service('user');\n   * console.log(user.hasSignin());\n   */\n  service(ns: string, service: any) {\n    let nsmatch = ns.match(/(.*?)(?:[/.]([^/.]+))$/);\n    let name: string;\n\n    if (!nsmatch) {\n      nsmatch = [, '_default', ns];\n    }\n    [, ns, name] = nsmatch;\n\n    if (arguments.length > 1) {\n      return this._block('service', ns, name, service);\n    }\n    else {\n      service = this._block('service', ns, name);\n      if (service && this._lib.isFunction(service.init)) {\n        return service.init();\n      }\n      else {\n        return service\n      }\n    }\n  }\n  /**\n   * 路由函数\n   *\n   * @private\n   * @method\n   * @name dispatch\n   * @memberof ndoo\n   */\n  dispatch() {\n    let {  _lib } = this;\n    let filterHaldner = (type: string, controller: any, actionName: string, params: string) => {\n      let data: any;\n      let { _lib } = this;\n      if (type === 'before') {\n        data = controller.before\n      }\n      else if (type === 'after') {\n        data = controller.after;\n      }\n      if (!data) {\n        return;\n      }\n      let _data: any[];\n      if (typeof data === 'object') {\n        _data = [].concat(data);\n      }\n      for (let dataItem of _data) {\n        let _filter = dataItem.filter;\n        if (!_lib.isArray(_filter)) {\n          _filter = [].concat(_filter.split(/\\s*,\\s*|\\s+/))\n        }\n        let isRun = true;\n        if (dataItem.only) {\n          let _only = dataItem.only;\n          if (!_lib.isArray(_only)) {\n            _only = [].concat(_only.split(/\\s*,\\s*|\\s+/))\n          }\n          if (_lib.indexOf(_only, actionName) < 0) {\n            isRun = false\n          }\n        }\n        else if (dataItem.except) {\n          let _except = dataItem.except;\n          if (!_lib.isArray(_except)) {\n            _except = [].concat(_except.split(/\\s*,\\s*|\\s+/))\n          }\n          if (_lib.indexOf(_except, actionName) > -1) {\n            isRun = false;\n          }\n        }\n        if (isRun) {\n          for (let filter of _filter) {\n            controller[`${filter}Filter`](actionName, params);\n          }\n        }\n      }\n    }\n    this.on(\n      'NAPP_ACTION_BEFORE',\n      (...data: any[]) => filterHaldner.apply(null, ['before'].concat(data))\n    );\n    this.on(\n      'NAPP_ACTION_AFTER',\n      (...data: any[]) => filterHaldner.apply(null, ['after'].concat(data))\n    );\n    this.on('NAPP_LOADED', (ns: string, appName: string, actionName: string, params) => {\n      let appData: any;\n      let _self = this;\n      if (ns) {\n        appData = this.app(`${ns}.${appName}`)\n      }\n      else {\n        appData = this.app(appName)\n      }\n\n      if (!_lib.has(appData, `${actionName}Action`) \n        && _lib.has(appData, 'emptyAction')) {\n          actionName = '_empty';\n      }\n\n      let depend = [];\n\n      if (appData['depend']) {\n        depend = depend.concat(appData['depend']);\n      }\n\n      if (appData[`${actionName}Depend`]) {\n        depend = depend.concat(appData[`${actionName}Depend`]);\n      }\n\n      let filterPrefix = appName;\n      if (ns) {\n        filterPrefix = (`${ns}.${appName}`).replace(/\\./g, '_')\n      }\n      filterPrefix = filterPrefix.toUpperCase();\n\n      let run = function() {\n        let args: any[] = [].slice.call(arguments, 0);\n        args.unshift(params);\n        if (actionName) {\n          _self.trigger('NAPP_ACTION_BEFORE', appData, actionName, params);\n          _self.trigger(`NAPP_${filterPrefix}_ACTION_BEFORE`, appData, actionName, params);\n\n          if (appData[`${actionName}Before`]) {\n            appData[`${actionName}Before`].apply(appData, args);\n          }\n          if (appData[`${actionName}Action`]) {\n            appData[`${actionName}Action`].apply(appData, args);\n          }\n          if (appData[`${actionName}After`]) {\n            appData[`${actionName}After`].apply(appData, args);\n          }\n\n          _self.trigger(`NAPP_${filterPrefix}_ACTION_AFTER`, appData, actionName, params);\n          _self.trigger('NAPP_ACTION_AFTER', appData, actionName, params);\n        }\n        _self.trigger('STATUS:NBLOCK_INIT');\n      }\n\n      if (depend.length) {\n        this.require(_lib.uniq(depend), run, this._loader['app']);\n      }\n      else {\n        run();\n      }\n    });\n    this.on('PAGE_STATUS_ROUTING', (data) => {\n      this.router.parse(\n        /^(?:\\/?)(.*?)(?:\\/?([^\\/?#]+))(?:\\?(.*?))?(?:\\#(.*?))?$/,\n        data, (appName: string, actionName: string, params: string) => {\n        let nsmatch = appName.match(/(.*?)(?:[/.]([^/.]+))$/);\n        let ns: string = '';\n        if (nsmatch) {\n          [, ns, appName] = nsmatch;\n        }\n        let pkg: string;\n        if (ns) {\n          ns = ns.replace(/\\//g, '.');\n          pkg = `${ns}.${appName}`;\n        }\n        else {\n          pkg = appName;\n        }\n\n        if (this.app(pkg)) {\n          this.trigger('NAPP_LOADED', ns, appName, actionName, params);\n        }\n        else if (this.hasApp(pkg)) {\n          this.require([pkg], function() {\n            this.trigger('NAPP_LOADED', ns, appName, actionName, params);\n          }, this._loader['app']);\n        }\n        else {\n          this.trigger('STATUS:NBLOCK_INIT');\n        }\n      });\n    });\n  }\n  /**\n   * 触发页面状态\n   *\n   * @private\n   * @method\n   * @name triggerPageStatus\n   * @memberof ndoo\n   * @param depend {string|array} 赖数组\n   */\n  public triggerPageStatus(depend: string | string[]) {\n    let { _lib } = this;\n    let call = () => {\n      this.trigger('STATUS:PAGE_STATUS_FAST')\n\n      _lib.onready(() => {\n        this.trigger('STATUS:PAGE_STATUS_DOMPREP');\n        this.trigger('STATUS:PAGE_STATUS_DOM');\n        this.trigger('STATUS:PAGE_STATUS_DOMORLOAD');\n      });\n\n      _lib.onload(() => {\n        this.trigger('STATUS:PAGE_STATUS_LOAD');\n      });\n\n      this.on('PAGE_STATUS_DOM', () => {\n        if (this.pageId) {\n          this.trigger('STATUS:PAGE_STATUS_ROUTING', this.pageId);\n        }\n      });\n    }\n    depend ? this.require([].concat(depend), call, this._loader['init']) : call();\n  }\n  /**\n   * 初始化页面\n   *\n   * @method\n   * @name init\n   * @memberof ndoo\n   * @param {string} id DOM的ID或指定ID\n   * @param {array} depend 依赖\n   * @example // ndoo alias _n\n   * _n.init('home/index')\n   * // set depend\n   * _n.init('home/index', ['library', 'common'])\n   */\n  init(id?: string | string[], depend?: string| string[]) {\n    let { _lib } = this;\n    if (_lib.isArray(id)) {\n      [id, depend] = ['', id];\n    }\n\n    this.initPageId(<string>id);\n    this.dispatch();\n    this.triggerPageStatus(depend);\n    return this;\n  }\n  private _rebuildEvent() {\n    let { _lib } = this;\n    let eventHandle = _lib.extend({\n      events: {},\n      listened: {}\n    }, _lib.Events);\n    this.event = _lib.extend(this.event, {\n      eventHandle,\n      on: function(eventName: string, callback: Function) {\n        let { eventHandle } = this;\n        eventHandle.on(eventName, callback);\n        eventHandle.listened[eventName] = true;\n        if (_lib.has(eventHandle.events, `STATUS:${eventName}`)) {\n          callback.apply(eventHandle, eventHandle.events[`STATUS:${eventName}`]);\n        }\n        if (_lib.has(eventHandle.events, eventName)) {\n          for (let item of eventHandle.events[eventName]) {\n            callback.apply(eventHandle, item);\n          }\n        }\n      },\n      trigger: function(eventName: string, eventType: string, data: any[]) {\n        let { eventHandle } = this;\n        if (eventType === 'DEFAULT') {\n          eventHandle.trigger.apply(eventHandle, [eventName].concat(data));\n        }\n        else if (eventType === 'DELAY') {\n          if (_lib.has(eventHandle.listened, eventName)) {\n            eventHandle.trigger.apply(eventHandle, [eventName].concat(data));\n          }\n          if (!_lib.has(eventHandle.events, eventName)) {\n            eventHandle.events[eventName] = []\n          }\n          eventHandle.events[eventName].push(data);\n        }\n        else if (eventType === 'STATUS') {\n          if (!_lib.has(eventHandle.events, `${eventType}:${eventName}`)) {\n            eventHandle.events[`${eventType}:${eventName}`] = data;\n            if (_lib.has(eventHandle.listened, eventName)) {\n              eventHandle.trigger.apply(eventHandle, [eventName].concat(data));\n            }\n          }\n        } \n      },\n      off: function(eventName: string) {\n        let { eventHandle } = this;\n        eventHandle.off(eventName);\n        delete eventHandle.listened[eventName];\n        delete eventHandle.events[eventName];\n      },\n      init: function() {\n        let { inited, _temp, TYPE_ON, TYPE_TRIGGER } = this;\n        if (!inited && _temp.length) {\n          for (let item of _temp) {\n            if (item.type === TYPE_ON) {\n              this.on(item.eventName, item.callback);\n            }\n            else if (item.type === TYPE_TRIGGER) {\n              this.trigger(item.eventName, item.eventTYpe, item.data);\n            }\n          }\n          inited = true;\n        }\n      }\n    });\n  }\n  constructor() {\n    super();\n    this.storage._lib = this._lib;\n\n    this._rebuildEvent();\n    this.event.init();\n\n    this.trigger('STATUS:NAPP_DEFINE');\n    this.trigger('STATUS:NBLOCK_DEFINE');\n    this.trigger('STATUS:NSERVICE_DEFINE');\n    this._bindBlockEvent();\n\n    if (prepData) {\n      removePrepData();\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/ndoo.ts\n **/","import { EventApi } from './event/api';\nimport { EventBasic } from './event/basic';\nimport { getPrepData, PrepDataType } from './prepData';\nlet prepData = getPrepData();\n\n/**\n * ndoojs 全局名称空间，短名称N\n *\n * @namespace ndoo\n */\nclass Prep extends EventApi {\n  public event: typeof EventBasic = EventBasic;\n\n  /**\n   * 变量存储名称空间\n   *\n   * @namespace\n   * @name vars\n   * @alias _vars\n   * @memberof ndoo\n   * @type {object}\n   * @example // alias _vars\n   * var _vars = ndoo.vars;\n   * vars.bar = 'bar';\n   */\n  public vars: any = {};\n\n  /**\n   * 函数存储名称空间\n   *\n   * @namespace\n   * @name func\n   * @memberof ndoo\n   * @type {object}\n   * @example // alias _func\n   * var _func = ndoo.func;\n   * _func.foo = function() {\n   *   console.log('foo');\n   * }\n   */\n  public func: any = {};\n\n  /**\n   * 依赖库存储空间\n   */\n  public _lib: any = {};\n\n  constructor() {\n    super();\n    if (prepData) {\n      this.vars = (prepData as PrepDataType).vars;\n      this.func = (prepData as PrepDataType).func;\n    }\n  }\n}\n\nexport { Prep }\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/prep.ts\n **/","import { EventBasic } from './basic';\nexport class EventApi {\n  public event: typeof EventBasic;\n\n  /**\n   * global on\n   *\n   * @method\n   * @name on\n   * @memberof ndoo\n   * @param {string} eventName 事件名称\n   * @param {function} callback 事件回调\n   * @example // ndoo alias _n\n   * var _n = ndoo;\n   * _n.on('testEvent', function(data, data2){\n   *   console.log(data);\n   *   console.log(data2);\n   * });\n   * _n.trigger('testEvent', 'testEvent', 'kkk');\n   */\n  public on(eventName: string | string[], callback: Function) {\n    eventName = (<string>eventName).split(/\\s*,\\s*|\\s+/);\n    for (let e of <string[]>eventName) {\n        this.event.on(e, callback);\n    }\n  }\n\n  /**\n   * global trigger\n   *\n   * @method\n   * @name trigger\n   * @memberof ndoo\n   * @param {string} eventName 事件名称\n   * @param {variable} data 数据，可以是多个\n   */\n  public trigger(eventName: string | string[], ...data: any[]) {\n    let _index = eventName.indexOf(':');\n    let type = (<string>eventName).substring(0, _index++) || 'DEFAULT';\n    let e = (<string>eventName).substring(_index);\n\n    this.event.trigger(e, type, data);\n  }\n\n  /**\n   * global off\n   *\n   * @method\n   * @name off\n   * @memberof ndoo\n   * @param {string} eventName 事件名称\n   */\n  public off(eventName: string | string[]) {\n    eventName = (<string>eventName).split(/\\s*,\\s*|\\s+/);\n    for(let e of <string[]>eventName) {\n        this.event.off(e);\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/event/api.ts\n **/","import { getPrepData, PrepDataType } from '../prepData';\nlet prepData = getPrepData();\n\n/**\n * 事件模块\n *\n * @namespace\n * @name event\n * @memberof ndoo\n * @param {string} name 事件名称\n * @param {string} type 事件类型\n */\nexport class EventBasic {\n  constructor(name: string, type: string) {\n    return `#${name}:#${type}`;\n  }\n\n  /**\n   * 暂存数据类型\n   *\n   * @name TYPE_ON\n   * @memberof ndoo.event\n   * @type {number}\n   */\n  static TYPE_ON:number = 1;\n\n  /**\n   * 暂存数据类型\n   *\n   * @name TYPE_TRIGGER\n   * @memberof ndoo.event\n   * @type {number}\n   */\n  static TYPE_TRIGGER:number = 2;\n\n  /**\n   * init token\n   *\n   * @name inited\n   * @memberof ndoo.event\n   * @type {boolean}\n   */\n  static inited:boolean = false;\n\n  /**\n   * event stack\n   *\n   * @private\n   * @name _temp\n   * @memberof ndoo.event\n   * @type {array}\n   */\n  static _temp:Array<any> = prepData ? (prepData as PrepDataType).eventData : [];\n\n  /**\n   * on api\n   *\n   * @method\n   * @name on\n   * @memberof ndoo.event\n   * @param {string} eventName 事件名称\n   * @param {function} callback 回调函数\n   */\n  static on(eventName: string, callback: Function) {\n    this._temp.push({\n      type: this.TYPE_ON,\n      eventName, callback\n    })\n  }\n\n  /**\n   * trigger api\n   *\n   * @method\n   * @name trigger\n   * @memberof ndoo.event\n   * @param eventName {string} 事件名称\n   * @param eventType {string} 事件类型\n   * @param data {variable} 数据类型\n   */\n  static trigger(eventName: string, eventType: string, data: Array<any>) {\n    this._temp.push({\n      type: this.TYPE_TRIGGER,\n      eventName, eventType, data\n    });\n  }\n\n  /**\n   * off api\n   *\n   * @method\n   * @name off\n   * @memberof ndoo.event\n   * @param eventName {string}\n   */\n  static off(eventName: string) { }\n  static init() {}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/event/basic.ts\n **/","export interface PrepDataType {\n  eventData: any[],\n  func: any,\n  vars: any\n}\n\nexport let getPrepData = function (): PrepDataType | boolean {\n  if (typeof window != 'undefined' && window['ndoo_prep_data']) {\n    return window['ndoo_prep_data'];\n  }\n  return false;\n}\n\nexport let setPrepData = function () {\n  let _self: any = {};\n  if (typeof window != 'undefined') {\n    _self = window;\n  }\n  if (!_self.ndoo_prep_data) {\n    _self.ndoo_prep_data = {\n      eventData: [],\n      func: {},\n      vars: {}\n    };\n  }\n}\n\nexport let removePrepData = function () {\n  if (typeof window != 'undefined' && window['ndoo_prep_data']) {\n    delete window['ndoo_prep_data'];\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/prepData.ts\n **/","/**\n * 变量存储\n *\n * @method\n * @name storage\n * @memberof ndoo\n * @param {string} key 键名\n * @param {variable} value 值\n * @param {const} option 选项，覆盖或删除\n * @example // alias _stor\n * var _stor = ndoo.storage;\n * // set abc vlaue 1\n * _stor('abc', 1); // 1\n * // set abc value 2 failed\n * _stor('abc', 2); // false\n * // set abc value 2\n * _stor('abc', 2, _stor.REWRITE); // 2\n * // delete abc\n * _stor('abc', null, _stor.DESTROY); // true\n */\nexport class Storage {\n  static _data: any = {};\n  /**\n   * storage重写常量\n   *\n   * @memberof ndoo.storage\n   */\n  static REWRITE: number = 1;\n\n  /**\n   * storage删除常量\n   *\n   * @memberof ndoo.storage\n   */\n  static DESTROY: number = 2;\n  static _lib: {\n      has(data: any, key: string): boolean;\n  };\n\n  constructor(key, value, option: number) {\n    let _self = Storage;\n    let destroy = option & _self.DESTROY;\n    let rewrite = option & _self.REWRITE;\n    let data = _self._data;\n\n    if (value === undefined) {\n      return data[key];\n    }\n\n    if (destroy) {\n      delete data[key];\n      return true;\n    }\n\n    if (!rewrite && _self._lib.has(data, key)) {\n      return false;\n    }\n\n    return data[key] = value;\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/storage.ts\n **/","/**\n * 内置路由通过正则配匹各部件\n *\n * @private\n * @namespace\n * @memberof ndoo\n * @type {object}\n */\nexport class Router {\n  /**\n   * 路由解析方法\n   * \n   * @private\n   * @method\n   * @memberof ndoo.router\n   * @param route {RegExp} 路由正则\n   * @param url {string url路径\n   * @param callback {Function} 回调函数\n   */\n  static parse(route: RegExp, url: string, callback: Function) {\n    let routeMatch = route.exec(url);\n    if (routeMatch != null) {\n      callback.apply(null, routeMatch.slice(1));\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/router.ts\n **/","import * as _ from 'underscore';\nimport * as depend from './depend'\nimport { Events } from './event';\nexport let _lib = _.extend({ Events }, depend, _);\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/lib/index.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"_\"\n ** module id = 10\n ** module chunks = 0\n **/","/// <references src=\"../declare.d.ts\" />\nimport * as jquery from 'jquery';\nimport * as zepto from 'zepto';\n\nlet $ = jquery || zepto;\nlet depend: any = {};\nif ($) {\n  depend.onready = function (callback: EventListener) {\n    $(callback);\n  }\n  depend.onload = function (callback: EventListener) {\n    $(window).on('load', callback);\n  }\n  depend.querySelector = function (selector: any) {\n    $(selector).slice(0);\n  }\n  depend.data = function (elem: HTMLElement, key: string, value: any) {\n    if (arguments.length === 2) {\n      return $(elem).data(key);\n    }\n    else if (arguments.length === 3) {\n      return $(elem).data(key, value);\n    }\n  }\n}\nelse {\n  depend.onready = function (callback: EventListener) {\n    document.addEventListener('DOMContentLoaded', callback, false);\n\n  }\n  depend.onload = function (callback: EventListener) {\n    addEventListener('load', callback, false);\n  }\n  depend.querySelector = function (selector: any) {\n    document.querySelectorAll(selector);\n  }\n  depend.data = function (elem: HTMLElement, key: string, value?: any) {\n    if (!elem.dataset) {\n      key = key.replace(/([A-Z])/g, (char) => '-' + char.toLocaleLowerCase());\n    }\n    if (arguments.length === 2) {\n      if (elem.dataset) {\n        return elem.dataset[key];\n      }\n      else {\n        return elem.getAttribute(key);\n      }\n    }\n    else if (arguments.length === 3) {\n      if (elem.dataset) {\n        elem.dataset[key] = value;\n      }\n      else {\n        elem.setAttribute(key, value);\n      }\n    }\n  }\n}\n\nexport let { onready, onload, querySelector, data } = depend;\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/lib/depend.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Zepto\"\n ** module id = 13\n ** module chunks = 0\n **/","import * as _ from 'underscore';\nimport * as Backbone from 'backbone';\n\nlet Events: any = {};\n\nif (Backbone) {\n  Events = Backbone.Events;\n}\nelse {\n// Backbone.Events\n// ---------------\n\n// A module that can be mixed in to *any object* in order to provide it with\n// a custom event channel. You may bind a callback to an event with 'on' or\n// remove with 'off'; 'trigger'-ing an event fires all callbacks in\n// succession.\n//\n//     var object = {};\n//     _.extend(object, Backbone.Events);\n//     object.on('expand', function(){ alert('expanded'); });\n//     object.trigger('expand');\n//\n// var Events: any = {};\n\n// Regular expression used to split event strings.\nvar eventSplitter = /\\s+/;\n\n// Iterates over the standard 'event, callback' (as well as the fancy multiple\n// space-separated events '\"change blur\", callback' and jQuery-style event\n// maps '{event: callback}').\nvar eventsApi = function (iteratee, events, name, callback, opts) {\n  var i = 0, names;\n  if (name && typeof name === 'object') {\n    // Handle event maps.\n    if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n    for (names = _.keys(name); i < names.length; i++) {\n      events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n    }\n  } else if (name && eventSplitter.test(name)) {\n    // Handle space separated event names by delegating them individually.\n    for (names = name.split(eventSplitter); i < names.length; i++) {\n      events = iteratee(events, names[i], callback, opts);\n    }\n  } else {\n    // Finally, standard events.\n    events = iteratee(events, name, callback, opts);\n  }\n  return events;\n};\n\n// Bind an event to a 'callback' function. Passing '\"all\"' will bind\n// the callback to all events fired.\nEvents.on = function (name, callback, context) {\n  return internalOn(this, name, callback, context);\n};\n\n// Guard the 'listening' argument from the public API.\nvar internalOn = function (obj: any, name: any, callback: any, context: any, listening?: any) {\n  obj._events = eventsApi(onApi, obj._events || {}, name, callback, {\n    context: context,\n    ctx: obj,\n    listening: listening\n  });\n\n  if (listening) {\n    var listeners = obj._listeners || (obj._listeners = {});\n    listeners[listening.id] = listening;\n  }\n\n  return obj;\n};\n\n// Inversion-of-control versions of 'on'. Tell *this* object to listen to\n// an event in another object... keeping track of what it's listening to\n// for easier unbinding later.\nEvents.listenTo = function (obj, name, callback) {\n  if (!obj) return this;\n  var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n  var listeningTo = this._listeningTo || (this._listeningTo = {});\n  var listening = listeningTo[id];\n\n  // This object is not listening to any other events on 'obj' yet.\n  // Setup the necessary references to track the listening callbacks.\n  if (!listening) {\n    var thisId = this._listenId || (this._listenId = _.uniqueId('l'));\n    listening = listeningTo[id] = { obj: obj, objId: id, id: thisId, listeningTo: listeningTo, count: 0 };\n  }\n\n  // Bind callbacks on obj, and keep track of them on listening.\n  internalOn(obj, name, callback, this, listening);\n  return this;\n};\n\n// The reducing API that adds a callback to the 'events' object.\nvar onApi = function (events, name, callback, options) {\n  if (callback) {\n    var handlers = events[name] || (events[name] = []);\n    var context = options.context, ctx = options.ctx, listening = options.listening;\n    if (listening) listening.count++;\n\n    handlers.push({ callback: callback, context: context, ctx: context || ctx, listening: listening });\n  }\n  return events;\n};\n\n// Remove one or many callbacks. If 'context' is null, removes all\n// callbacks with that function. If 'callback' is null, removes all\n// callbacks for the event. If 'name' is null, removes all bound\n// callbacks for all events.\nEvents.off = function (name, callback, context) {\n  if (!this._events) return this;\n  this._events = eventsApi(offApi, this._events, name, callback, {\n    context: context,\n    listeners: this._listeners\n  });\n  return this;\n};\n\n// Tell this object to stop listening to either specific events ... or\n// to every object it's currently listening to.\nEvents.stopListening = function (obj, name, callback) {\n  var listeningTo = this._listeningTo;\n  if (!listeningTo) return this;\n\n  var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\n  for (var i = 0; i < ids.length; i++) {\n    var listening = listeningTo[ids[i]];\n\n    // If listening doesn't exist, this object is not currently\n    // listening to obj. Break out early.\n    if (!listening) break;\n\n    listening.obj.off(name, callback, this);\n  }\n  if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n\n  return this;\n};\n\n// The reducing API that removes a callback from the 'events' object.\nvar offApi = function (events, name, callback, options) {\n  if (!events) return;\n\n  var i = 0, listening;\n  var context = options.context, listeners = options.listeners;\n\n  // Delete all events listeners and \"drop\" events.\n  if (!name && !callback && !context) {\n    var ids = _.keys(listeners);\n    for (; i < ids.length; i++) {\n      listening = listeners[ids[i]];\n      delete listeners[listening.id];\n      delete listening.listeningTo[listening.objId];\n    }\n    return;\n  }\n\n  var names = name ? [name] : _.keys(events);\n  for (; i < names.length; i++) {\n    name = names[i];\n    var handlers = events[name];\n\n    // Bail out if there are no events stored.\n    if (!handlers) break;\n\n    // Replace events if there are any remaining.  Otherwise, clean up.\n    var remaining = [];\n    for (var j = 0; j < handlers.length; j++) {\n      var handler = handlers[j];\n      if (\n        callback && callback !== handler.callback &&\n        callback !== handler.callback._callback ||\n        context && context !== handler.context\n      ) {\n        remaining.push(handler);\n      } else {\n        listening = handler.listening;\n        if (listening && --listening.count === 0) {\n          delete listeners[listening.id];\n          delete listening.listeningTo[listening.objId];\n        }\n      }\n    }\n\n    // Update tail event if the list has any events.  Otherwise, clean up.\n    if (remaining.length) {\n      events[name] = remaining;\n    } else {\n      delete events[name];\n    }\n  }\n  if (_.size(events)) return events;\n};\n\n// Bind an event to only be triggered a single time. After the first time\n// the callback is invoked, its listener will be removed. If multiple events\n// are passed in using the space-separated syntax, the handler will fire\n// once for each event, not once for a combination of all events.\nEvents.once = function (name, callback, context) {\n  // Map the event into a '{event: once}' object.\n  var events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));\n  return this.on(events, void 0, context);\n};\n\n// Inversion-of-control versions of 'once'.\nEvents.listenToOnce = function (obj, name, callback) {\n  // Map the event into a '{event: once}' object.\n  var events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));\n  return this.listenTo(obj, events);\n};\n\n// Reduces the event callbacks into a map of '{event: onceWrapper}'.\n// 'offer' unbinds the 'onceWrapper' after it has been called.\nvar onceMap = function (map, name, callback, offer) {\n  if (callback) {\n    var once = map[name] = _.once(function () {\n      offer(name, once);\n      callback.apply(this, arguments);\n    });\n    once._callback = callback;\n  }\n  return map;\n};\n\n// Trigger one or many events, firing all bound callbacks. Callbacks are\n// passed the same arguments as 'trigger' is, apart from the event name\n// (unless you're listening on '\"all\"', which will cause your callback to\n// receive the true name of the event as the first argument).\nEvents.trigger = function (name) {\n  if (!this._events) return this;\n\n  var length = Math.max(0, arguments.length - 1);\n  var args = Array(length);\n  for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n  eventsApi(triggerApi, this._events, name, void 0, args);\n  return this;\n};\n\n// Handles triggering the appropriate event callbacks.\nvar triggerApi = function (objEvents, name, cb, args) {\n  if (objEvents) {\n    var events = objEvents[name];\n    var allEvents = objEvents.all;\n    if (events && allEvents) allEvents = allEvents.slice();\n    if (events) triggerEvents(events, args);\n    if (allEvents) triggerEvents(allEvents, [name].concat(args));\n  }\n  return objEvents;\n};\n\n// A difficult-to-believe, but optimized internal dispatch function for\n// triggering events. Tries to keep the usual cases speedy (most internal\n// Backbone events have 3 arguments).\nvar triggerEvents = function (events, args) {\n  var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n  switch (args.length) {\n    case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n    case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n    case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n    case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n    default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n  }\n};\n\n// Aliases for backwards compatibility.\nEvents.bind = Events.on;\nEvents.unbind = Events.off;\n}\n\nexport { Events };\n\n\n/** WEBPACK FOOTER **\n ** ./_source/ts/src/lib/event.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Backbone\"\n ** module id = 15\n ** module chunks = 0\n **/"],"sourceRoot":""}